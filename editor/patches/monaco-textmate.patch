diff --git a/dist/debug.js b/dist/debug.js
index 455933033fe0db28205fcea1a7c1420f972771e3..ab4a77c06ea5fc5d4af7ab247dcb08c682cbd88d 100644
--- a/dist/debug.js
+++ b/dist/debug.js
@@ -3,6 +3,7 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.IN_DEBUG_MODE = exports.CAPTURE_METADATA = void 0;
 exports.CAPTURE_METADATA = typeof process === 'undefined' ? false : !!process.env['VSCODE_TEXTMATE_DEBUG'];
 exports.IN_DEBUG_MODE = typeof process === 'undefined' ? false : !!process.env['VSCODE_TEXTMATE_DEBUG'];
 //# sourceMappingURL=debug.js.map
\ No newline at end of file
diff --git a/dist/debug.js.map b/dist/debug.js.map
index 0a6f83eefe5437f4711db08b1a51c82683d095c0..b00c99127e9fa8d2794356b1c1e3299f23aacada 100644
--- a/dist/debug.js.map
+++ b/dist/debug.js.map
@@ -1 +1 @@
-{"version":3,"file":"debug.js","sourceRoot":"","sources":["../src/debug.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;AAE/C,QAAA,gBAAgB,GAAG,OAAO,OAAO,KAAK,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;AACnG,QAAA,aAAa,GAAG,OAAO,OAAO,KAAK,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC"}
\ No newline at end of file
+{"version":3,"file":"debug.js","sourceRoot":"","sources":["../src/debug.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;;AAE/C,QAAA,gBAAgB,GAAG,OAAO,OAAO,KAAK,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;AACnG,QAAA,aAAa,GAAG,OAAO,OAAO,KAAK,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/grammar.js b/dist/grammar.js
index cc50ec5bf251e869e76bb15531c5b31357d31871..686b0f392fbcf07b59c912cf2f0a3a62dceab974 100644
--- a/dist/grammar.js
+++ b/dist/grammar.js
@@ -3,6 +3,9 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.LocalStackElement = exports.StackElement = exports.ScopeListElement = exports.StackElementMetadata = exports.Grammar = exports.ScopeMetadata = void 0;
+exports.createGrammar = createGrammar;
+exports.collectIncludedScopes = collectIncludedScopes;
 var utils_1 = require("./utils");
 var rule_1 = require("./rule");
 var matcher_1 = require("./matcher");
@@ -10,7 +13,6 @@ var debug_1 = require("./debug");
 function createGrammar(grammar, initialLanguage, embeddedLanguages, tokenTypes, grammarRepository) {
     return new Grammar(grammar, initialLanguage, embeddedLanguages, tokenTypes, grammarRepository);
 }
-exports.createGrammar = createGrammar;
 /**
  * Fill in `result` all external included scopes in `patterns`
  */
@@ -67,7 +69,6 @@ function collectIncludedScopes(result, grammar) {
     // remove references to own scope (avoid recursion)
     delete result[grammar.scopeName];
 }
-exports.collectIncludedScopes = collectIncludedScopes;
 function scopesAreMatching(thisScopeName, scopeName) {
     if (!thisScopeName) {
         return false;
@@ -95,7 +96,7 @@ function nameMatcher(identifers, scopes) {
 }
 ;
 function collectInjections(result, selector, rule, ruleFactoryHelper, grammar) {
-    var matchers = matcher_1.createMatchers(selector, nameMatcher);
+    var matchers = (0, matcher_1.createMatchers)(selector, nameMatcher);
     var ruleId = rule_1.RuleFactory.getCompiledRuleId(rule, ruleFactoryHelper, grammar.repository);
     for (var _i = 0, matchers_1 = matchers; _i < matchers_1.length; _i++) {
         var matcher = matchers_1[_i];
@@ -147,12 +148,12 @@ var ScopeMetadataProvider = /** @class */ (function () {
         else {
             escapedScopes.sort();
             escapedScopes.reverse();
-            this._embeddedLanguagesRegex = new RegExp("^((" + escapedScopes.join(')|(') + "))($|\\.)", '');
+            this._embeddedLanguagesRegex = new RegExp("^((".concat(escapedScopes.join(')|('), "))($|\\.)"), '');
         }
     }
     ScopeMetadataProvider.prototype.onDidChangeTheme = function () {
         this._cache = Object.create(null);
-        this._defaultMetaData = new ScopeMetadata('', this._initialLanguage, 0 /* Other */, [this._themeProvider.getDefaults()]);
+        this._defaultMetaData = new ScopeMetadata('', this._initialLanguage, 0 /* TemporaryStandardTokenType.Other */, [this._themeProvider.getDefaults()]);
     };
     ScopeMetadataProvider.prototype.getDefaultMetadata = function () {
         return this._defaultMetaData;
@@ -207,17 +208,17 @@ var ScopeMetadataProvider = /** @class */ (function () {
     ScopeMetadataProvider.prototype._toStandardTokenType = function (tokenType) {
         var m = tokenType.match(ScopeMetadataProvider.STANDARD_TOKEN_TYPE_REGEXP);
         if (!m) {
-            return 0 /* Other */;
+            return 0 /* TemporaryStandardTokenType.Other */;
         }
         switch (m[1]) {
             case 'comment':
-                return 1 /* Comment */;
+                return 1 /* TemporaryStandardTokenType.Comment */;
             case 'string':
-                return 2 /* String */;
+                return 2 /* TemporaryStandardTokenType.String */;
             case 'regex':
-                return 4 /* RegEx */;
+                return 4 /* TemporaryStandardTokenType.RegEx */;
             case 'meta.embedded':
-                return 8 /* MetaEmbedded */;
+                return 8 /* TemporaryStandardTokenType.MetaEmbedded */;
         }
         throw new Error('Unexpected match for standard token type!');
     };
@@ -238,7 +239,7 @@ var Grammar = /** @class */ (function () {
         if (tokenTypes) {
             for (var _i = 0, _a = Object.keys(tokenTypes); _i < _a.length; _i++) {
                 var selector = _a[_i];
-                var matchers = matcher_1.createMatchers(selector, nameMatcher);
+                var matchers = (0, matcher_1.createMatchers)(selector, nameMatcher);
                 for (var _b = 0, matchers_2 = matchers; _b < matchers_2.length; _b++) {
                     var matcher = matchers_2[_b];
                     this._tokenTypeMatchers.push({
@@ -345,8 +346,8 @@ var Grammar = /** @class */ (function () {
             prevState.reset();
         }
         lineText = lineText + '\n';
-        var onigLineText = rule_1.createOnigString(lineText);
-        var lineLength = rule_1.getString(onigLineText).length;
+        var onigLineText = (0, rule_1.createOnigString)(lineText);
+        var lineLength = (0, rule_1.getString)(onigLineText).length;
         var lineTokens = new LineTokens(emitBinaryTokens, lineText, this._tokenTypeMatchers);
         var nextState = _tokenizeString(this, onigLineText, isFirstLine, 0, prevState, lineTokens);
         return {
@@ -359,7 +360,7 @@ var Grammar = /** @class */ (function () {
 }());
 exports.Grammar = Grammar;
 function initGrammar(grammar, base) {
-    grammar = utils_1.clone(grammar);
+    grammar = (0, utils_1.clone)(grammar);
     grammar.repository = grammar.repository || {};
     grammar.repository.$self = {
         $vscodeTextmateLocation: grammar.$vscodeTextmateLocation,
@@ -405,15 +406,15 @@ function handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, captu
         }
         if (captureRule.retokenizeCapturedWithRuleId) {
             // the capture requires additional matching
-            var scopeName = captureRule.getName(rule_1.getString(lineText), captureIndices);
+            var scopeName = captureRule.getName((0, rule_1.getString)(lineText), captureIndices);
             var nameScopesList = stack.contentNameScopesList.push(grammar, scopeName);
-            var contentName = captureRule.getContentName(rule_1.getString(lineText), captureIndices);
+            var contentName = captureRule.getContentName((0, rule_1.getString)(lineText), captureIndices);
             var contentNameScopesList = nameScopesList.push(grammar, contentName);
             var stackClone = stack.push(captureRule.retokenizeCapturedWithRuleId, captureIndex.start, null, nameScopesList, contentNameScopesList);
-            _tokenizeString(grammar, rule_1.createOnigString(rule_1.getString(lineText).substring(0, captureIndex.end)), (isFirstLine && captureIndex.start === 0), captureIndex.start, stackClone, lineTokens);
+            _tokenizeString(grammar, (0, rule_1.createOnigString)((0, rule_1.getString)(lineText).substring(0, captureIndex.end)), (isFirstLine && captureIndex.start === 0), captureIndex.start, stackClone, lineTokens);
             continue;
         }
-        var captureRuleScopeName = captureRule.getName(rule_1.getString(lineText), captureIndices);
+        var captureRuleScopeName = captureRule.getName((0, rule_1.getString)(lineText), captureIndices);
         if (captureRuleScopeName !== null) {
             // push
             var base = localStack.length > 0 ? localStack[localStack.length - 1].scopes : stack.contentNameScopesList;
@@ -572,7 +573,7 @@ function _checkWhileConditions(grammar, lineText, isFirstLine, linePos, stack, l
     return { stack: stack, linePos: linePos, anchorPosition: anchorPosition, isFirstLine: isFirstLine };
 }
 function _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTokens) {
-    var lineLength = rule_1.getString(lineText).length;
+    var lineLength = (0, rule_1.getString)(lineText).length;
     var STOP = false;
     var whileCheckResult = _checkWhileConditions(grammar, lineText, isFirstLine, linePos, stack, lineTokens);
     stack = whileCheckResult.stack;
@@ -585,7 +586,7 @@ function _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTok
     function scanNext() {
         if (debug_1.IN_DEBUG_MODE) {
             console.log('');
-            console.log('@@scanNext: |' + rule_1.getString(lineText).replace(/\n$/, '\\n').substr(linePos) + '|');
+            console.log('@@scanNext: |' + (0, rule_1.getString)(lineText).replace(/\n$/, '\\n').substr(linePos) + '|');
         }
         var r = matchRuleOrInjections(grammar, lineText, isFirstLine, linePos, stack, anchorPosition);
         if (!r) {
@@ -630,7 +631,7 @@ function _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTok
             lineTokens.produce(stack, captureIndices[0].start);
             var beforePush = stack;
             // push it on the stack rule
-            var scopeName = _rule.getName(rule_1.getString(lineText), captureIndices);
+            var scopeName = _rule.getName((0, rule_1.getString)(lineText), captureIndices);
             var nameScopesList = stack.contentNameScopesList.push(grammar, scopeName);
             stack = stack.push(matchedRuleId, linePos, null, nameScopesList, nameScopesList);
             if (_rule instanceof rule_1.BeginEndRule) {
@@ -641,11 +642,11 @@ function _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTok
                 handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, pushedRule.beginCaptures, captureIndices);
                 lineTokens.produce(stack, captureIndices[0].end);
                 anchorPosition = captureIndices[0].end;
-                var contentName = pushedRule.getContentName(rule_1.getString(lineText), captureIndices);
+                var contentName = pushedRule.getContentName((0, rule_1.getString)(lineText), captureIndices);
                 var contentNameScopesList = nameScopesList.push(grammar, contentName);
                 stack = stack.setContentNameScopesList(contentNameScopesList);
                 if (pushedRule.endHasBackReferences) {
-                    stack = stack.setEndRule(pushedRule.getEndWithResolvedBackReferences(rule_1.getString(lineText), captureIndices));
+                    stack = stack.setEndRule(pushedRule.getEndWithResolvedBackReferences((0, rule_1.getString)(lineText), captureIndices));
                 }
                 if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {
                     // Grammar pushed the same rule without advancing
@@ -664,11 +665,11 @@ function _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTok
                 handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, pushedRule.beginCaptures, captureIndices);
                 lineTokens.produce(stack, captureIndices[0].end);
                 anchorPosition = captureIndices[0].end;
-                var contentName = pushedRule.getContentName(rule_1.getString(lineText), captureIndices);
+                var contentName = pushedRule.getContentName((0, rule_1.getString)(lineText), captureIndices);
                 var contentNameScopesList = nameScopesList.push(grammar, contentName);
                 stack = stack.setContentNameScopesList(contentNameScopesList);
                 if (pushedRule.whileHasBackReferences) {
-                    stack = stack.setEndRule(pushedRule.getWhileWithResolvedBackReferences(rule_1.getString(lineText), captureIndices));
+                    stack = stack.setEndRule(pushedRule.getWhileWithResolvedBackReferences((0, rule_1.getString)(lineText), captureIndices));
                 }
                 if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {
                     // Grammar pushed the same rule without advancing
@@ -731,19 +732,19 @@ var StackElementMetadata = /** @class */ (function () {
         });
     };
     StackElementMetadata.getLanguageId = function (metadata) {
-        return (metadata & 255 /* LANGUAGEID_MASK */) >>> 0 /* LANGUAGEID_OFFSET */;
+        return (metadata & 255 /* MetadataConsts.LANGUAGEID_MASK */) >>> 0 /* MetadataConsts.LANGUAGEID_OFFSET */;
     };
     StackElementMetadata.getTokenType = function (metadata) {
-        return (metadata & 1792 /* TOKEN_TYPE_MASK */) >>> 8 /* TOKEN_TYPE_OFFSET */;
+        return (metadata & 1792 /* MetadataConsts.TOKEN_TYPE_MASK */) >>> 8 /* MetadataConsts.TOKEN_TYPE_OFFSET */;
     };
     StackElementMetadata.getFontStyle = function (metadata) {
-        return (metadata & 14336 /* FONT_STYLE_MASK */) >>> 11 /* FONT_STYLE_OFFSET */;
+        return (metadata & 14336 /* MetadataConsts.FONT_STYLE_MASK */) >>> 11 /* MetadataConsts.FONT_STYLE_OFFSET */;
     };
     StackElementMetadata.getForeground = function (metadata) {
-        return (metadata & 8372224 /* FOREGROUND_MASK */) >>> 14 /* FOREGROUND_OFFSET */;
+        return (metadata & 8372224 /* MetadataConsts.FOREGROUND_MASK */) >>> 14 /* MetadataConsts.FOREGROUND_OFFSET */;
     };
     StackElementMetadata.getBackground = function (metadata) {
-        return (metadata & 4286578688 /* BACKGROUND_MASK */) >>> 23 /* BACKGROUND_OFFSET */;
+        return (metadata & 4286578688 /* MetadataConsts.BACKGROUND_MASK */) >>> 23 /* MetadataConsts.BACKGROUND_OFFSET */;
     };
     StackElementMetadata.set = function (metadata, languageId, tokenType, fontStyle, foreground, background) {
         var _languageId = StackElementMetadata.getLanguageId(metadata);
@@ -754,10 +755,10 @@ var StackElementMetadata = /** @class */ (function () {
         if (languageId !== 0) {
             _languageId = languageId;
         }
-        if (tokenType !== 0 /* Other */) {
-            _tokenType = tokenType === 8 /* MetaEmbedded */ ? 0 /* Other */ : tokenType;
+        if (tokenType !== 0 /* TemporaryStandardTokenType.Other */) {
+            _tokenType = tokenType === 8 /* TemporaryStandardTokenType.MetaEmbedded */ ? 0 /* StandardTokenType.Other */ : tokenType;
         }
-        if (fontStyle !== -1 /* NotSet */) {
+        if (fontStyle !== -1 /* FontStyle.NotSet */) {
             _fontStyle = fontStyle;
         }
         if (foreground !== 0) {
@@ -766,11 +767,11 @@ var StackElementMetadata = /** @class */ (function () {
         if (background !== 0) {
             _background = background;
         }
-        return ((_languageId << 0 /* LANGUAGEID_OFFSET */)
-            | (_tokenType << 8 /* TOKEN_TYPE_OFFSET */)
-            | (_fontStyle << 11 /* FONT_STYLE_OFFSET */)
-            | (_foreground << 14 /* FOREGROUND_OFFSET */)
-            | (_background << 23 /* BACKGROUND_OFFSET */)) >>> 0;
+        return ((_languageId << 0 /* MetadataConsts.LANGUAGEID_OFFSET */)
+            | (_tokenType << 8 /* MetadataConsts.TOKEN_TYPE_OFFSET */)
+            | (_fontStyle << 11 /* MetadataConsts.FONT_STYLE_OFFSET */)
+            | (_foreground << 14 /* MetadataConsts.FOREGROUND_OFFSET */)
+            | (_background << 23 /* MetadataConsts.BACKGROUND_OFFSET */)) >>> 0;
     };
     return StackElementMetadata;
 }());
@@ -833,7 +834,7 @@ var ScopeListElement = /** @class */ (function () {
         if (source === null) {
             return metadata;
         }
-        var fontStyle = -1 /* NotSet */;
+        var fontStyle = -1 /* FontStyle.NotSet */;
         var foreground = 0;
         var background = 0;
         if (source.themeData !== null) {
@@ -971,7 +972,7 @@ var StackElement = /** @class */ (function () {
         if (this.parent) {
             outIndex = this.parent._writeString(res, outIndex);
         }
-        res[outIndex++] = "(" + this.ruleId + ", TODO-" + this.nameScopesList + ", TODO-" + this.contentNameScopesList + ")";
+        res[outIndex++] = "(".concat(this.ruleId, ", TODO-").concat(this.nameScopesList, ", TODO-").concat(this.contentNameScopesList, ")");
         return outIndex;
     };
     StackElement.prototype.toString = function () {
@@ -1033,7 +1034,7 @@ var LineTokens = /** @class */ (function () {
             for (var _i = 0, _a = this._tokenTypeOverrides; _i < _a.length; _i++) {
                 var tokenType = _a[_i];
                 if (tokenType.matcher(scopesList.generateScopes())) {
-                    metadata = StackElementMetadata.set(metadata, 0, toTemporaryType(tokenType.type), -1 /* NotSet */, 0, 0);
+                    metadata = StackElementMetadata.set(metadata, 0, toTemporaryType(tokenType.type), -1 /* FontStyle.NotSet */, 0, 0);
                 }
             }
             if (this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 1] === metadata) {
@@ -1094,17 +1095,17 @@ var LineTokens = /** @class */ (function () {
 }());
 function toTemporaryType(standardType) {
     switch (standardType) {
-        case 4 /* RegEx */:
-            return 4 /* RegEx */;
-        case 2 /* String */:
-            return 2 /* String */;
-        case 1 /* Comment */:
-            return 1 /* Comment */;
-        case 0 /* Other */:
+        case 4 /* StandardTokenType.RegEx */:
+            return 4 /* TemporaryStandardTokenType.RegEx */;
+        case 2 /* StandardTokenType.String */:
+            return 2 /* TemporaryStandardTokenType.String */;
+        case 1 /* StandardTokenType.Comment */:
+            return 1 /* TemporaryStandardTokenType.Comment */;
+        case 0 /* StandardTokenType.Other */:
         default:
             // `MetaEmbedded` is the same scope as `Other`
             // but it overwrites existing token types in the stack.
-            return 8 /* MetaEmbedded */;
+            return 8 /* TemporaryStandardTokenType.MetaEmbedded */;
     }
 }
 //# sourceMappingURL=grammar.js.map
\ No newline at end of file
diff --git a/dist/grammar.js.map b/dist/grammar.js.map
index 4382364731e9fa3c19d0fa93a1371c4d24a22e0d..81198002a202005f9fa8fed5f7ad4a1e968b8889 100644
--- a/dist/grammar.js.map
+++ b/dist/grammar.js.map
@@ -1 +1 @@
-{"version":3,"file":"grammar.js","sourceRoot":"","sources":["../src/grammar.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"grammar.js","sourceRoot":"","sources":["../src/grammar.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/grammarReader.js b/dist/grammarReader.js
index 9aec1ad0a283d2f3f7223d7269d9258b5b5c61b5..46553a329cdaed44fc2c34a58382ece5ae73ad77 100644
--- a/dist/grammarReader.js
+++ b/dist/grammarReader.js
@@ -3,21 +3,21 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.parseJSONGrammar = parseJSONGrammar;
+exports.parsePLISTGrammar = parsePLISTGrammar;
 var plist = require("fast-plist");
 var debug_1 = require("./debug");
 var json_1 = require("./json");
 function parseJSONGrammar(contents, filename) {
     if (debug_1.CAPTURE_METADATA) {
-        return json_1.parse(contents, filename, true);
+        return (0, json_1.parse)(contents, filename, true);
     }
     return JSON.parse(contents);
 }
-exports.parseJSONGrammar = parseJSONGrammar;
 function parsePLISTGrammar(contents, filename) {
     if (debug_1.CAPTURE_METADATA) {
         return plist.parseWithLocation(contents, filename, '$vscodeTextmateLocation');
     }
     return plist.parse(contents);
 }
-exports.parsePLISTGrammar = parsePLISTGrammar;
 //# sourceMappingURL=grammarReader.js.map
\ No newline at end of file
diff --git a/dist/grammarReader.js.map b/dist/grammarReader.js.map
index 356e6e5b02330ff30616b753200c4b6d1a2e9ddd..bf43867a479712b2133fc211adbabcca3a88c8a6 100644
--- a/dist/grammarReader.js.map
+++ b/dist/grammarReader.js.map
@@ -1 +1 @@
-{"version":3,"file":"grammarReader.js","sourceRoot":"","sources":["../src/grammarReader.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;AAG5D,kCAAoC;AACpC,iCAA2C;AAC3C,+BAAkD;AAElD,0BAAiC,QAAgB,EAAE,QAAgB;IAClE,IAAI,wBAAgB,EAAE;QACrB,OAAoB,YAAe,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;KAC9D;IACD,OAAoB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC1C,CAAC;AALD,4CAKC;AAED,2BAAkC,QAAgB,EAAE,QAAgB;IACnE,IAAI,wBAAgB,EAAE;QACrB,OAAoB,KAAK,CAAC,iBAAiB,CAAC,QAAQ,EAAE,QAAQ,EAAE,yBAAyB,CAAC,CAAC;KAC3F;IACD,OAAoB,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC3C,CAAC;AALD,8CAKC"}
\ No newline at end of file
+{"version":3,"file":"grammarReader.js","sourceRoot":"","sources":["../src/grammarReader.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;AAO5D,4CAKC;AAED,8CAKC;AAhBD,kCAAoC;AACpC,iCAA2C;AAC3C,+BAAkD;AAElD,SAAgB,gBAAgB,CAAC,QAAgB,EAAE,QAAgB;IAClE,IAAI,wBAAgB,EAAE,CAAC;QACtB,OAAoB,IAAA,YAAe,EAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;IACD,OAAoB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC1C,CAAC;AAED,SAAgB,iBAAiB,CAAC,QAAgB,EAAE,QAAgB;IACnE,IAAI,wBAAgB,EAAE,CAAC;QACtB,OAAoB,KAAK,CAAC,iBAAiB,CAAC,QAAQ,EAAE,QAAQ,EAAE,yBAAyB,CAAC,CAAC;IAC5F,CAAC;IACD,OAAoB,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC3C,CAAC"}
\ No newline at end of file
diff --git a/dist/json.js b/dist/json.js
index be88758e5230c4f635c603148d7ad2b83f3ef0f6..35aa32fa1395888b552abc2a77c42de79fced815 100644
--- a/dist/json.js
+++ b/dist/json.js
@@ -3,6 +3,7 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.parse = parse;
 function doFail(streamState, msg) {
     // console.log('Near offset ' + streamState.pos + ': ' + msg + ' ~~~' + streamState.source.substr(streamState.pos, 50) + '~~~');
     throw new Error('Near offset ' + streamState.pos + ': ' + msg + ' ~~~' + streamState.source.substr(streamState.pos, 50) + '~~~');
@@ -10,7 +11,7 @@ function doFail(streamState, msg) {
 function parse(source, filename, withMetadata) {
     var streamState = new JSONStreamState(source);
     var token = new JSONToken();
-    var state = 0 /* ROOT_STATE */;
+    var state = 0 /* JSONState.ROOT_STATE */;
     var cur = null;
     var stateStack = [];
     var objStack = [];
@@ -26,147 +27,147 @@ function parse(source, filename, withMetadata) {
         doFail(streamState, msg);
     }
     while (nextJSONToken(streamState, token)) {
-        if (state === 0 /* ROOT_STATE */) {
+        if (state === 0 /* JSONState.ROOT_STATE */) {
             if (cur !== null) {
                 fail('too many constructs in root');
             }
-            if (token.type === 3 /* LEFT_CURLY_BRACKET */) {
+            if (token.type === 3 /* JSONTokenType.LEFT_CURLY_BRACKET */) {
                 cur = {};
                 if (withMetadata) {
                     cur.$vscodeTextmateLocation = token.toLocation(filename);
                 }
                 pushState();
-                state = 1 /* DICT_STATE */;
+                state = 1 /* JSONState.DICT_STATE */;
                 continue;
             }
-            if (token.type === 2 /* LEFT_SQUARE_BRACKET */) {
+            if (token.type === 2 /* JSONTokenType.LEFT_SQUARE_BRACKET */) {
                 cur = [];
                 pushState();
-                state = 4 /* ARR_STATE */;
+                state = 4 /* JSONState.ARR_STATE */;
                 continue;
             }
             fail('unexpected token in root');
         }
-        if (state === 2 /* DICT_STATE_COMMA */) {
-            if (token.type === 5 /* RIGHT_CURLY_BRACKET */) {
+        if (state === 2 /* JSONState.DICT_STATE_COMMA */) {
+            if (token.type === 5 /* JSONTokenType.RIGHT_CURLY_BRACKET */) {
                 popState();
                 continue;
             }
-            if (token.type === 7 /* COMMA */) {
-                state = 3 /* DICT_STATE_NO_CLOSE */;
+            if (token.type === 7 /* JSONTokenType.COMMA */) {
+                state = 3 /* JSONState.DICT_STATE_NO_CLOSE */;
                 continue;
             }
             fail('expected , or }');
         }
-        if (state === 1 /* DICT_STATE */ || state === 3 /* DICT_STATE_NO_CLOSE */) {
-            if (state === 1 /* DICT_STATE */ && token.type === 5 /* RIGHT_CURLY_BRACKET */) {
+        if (state === 1 /* JSONState.DICT_STATE */ || state === 3 /* JSONState.DICT_STATE_NO_CLOSE */) {
+            if (state === 1 /* JSONState.DICT_STATE */ && token.type === 5 /* JSONTokenType.RIGHT_CURLY_BRACKET */) {
                 popState();
                 continue;
             }
-            if (token.type === 1 /* STRING */) {
+            if (token.type === 1 /* JSONTokenType.STRING */) {
                 var keyValue = token.value;
-                if (!nextJSONToken(streamState, token) || token.type !== 6 /* COLON */) {
+                if (!nextJSONToken(streamState, token) || /*TS bug*/ token.type !== 6 /* JSONTokenType.COLON */) {
                     fail('expected colon');
                 }
                 if (!nextJSONToken(streamState, token)) {
                     fail('expected value');
                 }
-                state = 2 /* DICT_STATE_COMMA */;
-                if (token.type === 1 /* STRING */) {
+                state = 2 /* JSONState.DICT_STATE_COMMA */;
+                if (token.type === 1 /* JSONTokenType.STRING */) {
                     cur[keyValue] = token.value;
                     continue;
                 }
-                if (token.type === 8 /* NULL */) {
+                if (token.type === 8 /* JSONTokenType.NULL */) {
                     cur[keyValue] = null;
                     continue;
                 }
-                if (token.type === 9 /* TRUE */) {
+                if (token.type === 9 /* JSONTokenType.TRUE */) {
                     cur[keyValue] = true;
                     continue;
                 }
-                if (token.type === 10 /* FALSE */) {
+                if (token.type === 10 /* JSONTokenType.FALSE */) {
                     cur[keyValue] = false;
                     continue;
                 }
-                if (token.type === 11 /* NUMBER */) {
+                if (token.type === 11 /* JSONTokenType.NUMBER */) {
                     cur[keyValue] = parseFloat(token.value);
                     continue;
                 }
-                if (token.type === 2 /* LEFT_SQUARE_BRACKET */) {
+                if (token.type === 2 /* JSONTokenType.LEFT_SQUARE_BRACKET */) {
                     var newArr = [];
                     cur[keyValue] = newArr;
                     pushState();
-                    state = 4 /* ARR_STATE */;
+                    state = 4 /* JSONState.ARR_STATE */;
                     cur = newArr;
                     continue;
                 }
-                if (token.type === 3 /* LEFT_CURLY_BRACKET */) {
+                if (token.type === 3 /* JSONTokenType.LEFT_CURLY_BRACKET */) {
                     var newDict = {};
                     if (withMetadata) {
                         newDict.$vscodeTextmateLocation = token.toLocation(filename);
                     }
                     cur[keyValue] = newDict;
                     pushState();
-                    state = 1 /* DICT_STATE */;
+                    state = 1 /* JSONState.DICT_STATE */;
                     cur = newDict;
                     continue;
                 }
             }
             fail('unexpected token in dict');
         }
-        if (state === 5 /* ARR_STATE_COMMA */) {
-            if (token.type === 4 /* RIGHT_SQUARE_BRACKET */) {
+        if (state === 5 /* JSONState.ARR_STATE_COMMA */) {
+            if (token.type === 4 /* JSONTokenType.RIGHT_SQUARE_BRACKET */) {
                 popState();
                 continue;
             }
-            if (token.type === 7 /* COMMA */) {
-                state = 6 /* ARR_STATE_NO_CLOSE */;
+            if (token.type === 7 /* JSONTokenType.COMMA */) {
+                state = 6 /* JSONState.ARR_STATE_NO_CLOSE */;
                 continue;
             }
             fail('expected , or ]');
         }
-        if (state === 4 /* ARR_STATE */ || state === 6 /* ARR_STATE_NO_CLOSE */) {
-            if (state === 4 /* ARR_STATE */ && token.type === 4 /* RIGHT_SQUARE_BRACKET */) {
+        if (state === 4 /* JSONState.ARR_STATE */ || state === 6 /* JSONState.ARR_STATE_NO_CLOSE */) {
+            if (state === 4 /* JSONState.ARR_STATE */ && token.type === 4 /* JSONTokenType.RIGHT_SQUARE_BRACKET */) {
                 popState();
                 continue;
             }
-            state = 5 /* ARR_STATE_COMMA */;
-            if (token.type === 1 /* STRING */) {
+            state = 5 /* JSONState.ARR_STATE_COMMA */;
+            if (token.type === 1 /* JSONTokenType.STRING */) {
                 cur.push(token.value);
                 continue;
             }
-            if (token.type === 8 /* NULL */) {
+            if (token.type === 8 /* JSONTokenType.NULL */) {
                 cur.push(null);
                 continue;
             }
-            if (token.type === 9 /* TRUE */) {
+            if (token.type === 9 /* JSONTokenType.TRUE */) {
                 cur.push(true);
                 continue;
             }
-            if (token.type === 10 /* FALSE */) {
+            if (token.type === 10 /* JSONTokenType.FALSE */) {
                 cur.push(false);
                 continue;
             }
-            if (token.type === 11 /* NUMBER */) {
+            if (token.type === 11 /* JSONTokenType.NUMBER */) {
                 cur.push(parseFloat(token.value));
                 continue;
             }
-            if (token.type === 2 /* LEFT_SQUARE_BRACKET */) {
+            if (token.type === 2 /* JSONTokenType.LEFT_SQUARE_BRACKET */) {
                 var newArr = [];
                 cur.push(newArr);
                 pushState();
-                state = 4 /* ARR_STATE */;
+                state = 4 /* JSONState.ARR_STATE */;
                 cur = newArr;
                 continue;
             }
-            if (token.type === 3 /* LEFT_CURLY_BRACKET */) {
+            if (token.type === 3 /* JSONTokenType.LEFT_CURLY_BRACKET */) {
                 var newDict = {};
                 if (withMetadata) {
                     newDict.$vscodeTextmateLocation = token.toLocation(filename);
                 }
                 cur.push(newDict);
                 pushState();
-                state = 1 /* DICT_STATE */;
+                state = 1 /* JSONState.DICT_STATE */;
                 cur = newDict;
                 continue;
             }
@@ -179,7 +180,6 @@ function parse(source, filename, withMetadata) {
     }
     return cur;
 }
-exports.parse = parse;
 var JSONStreamState = /** @class */ (function () {
     function JSONStreamState(source) {
         this.source = source;
@@ -212,7 +212,7 @@ var JSONToken = /** @class */ (function () {
  */
 function nextJSONToken(_state, _out) {
     _out.value = null;
-    _out.type = 0 /* UNKNOWN */;
+    _out.type = 0 /* JSONTokenType.UNKNOWN */;
     _out.offset = -1;
     _out.len = -1;
     _out.line = -1;
@@ -229,13 +229,13 @@ function nextJSONToken(_state, _out) {
             return false; /*EOS*/
         }
         chCode = source.charCodeAt(pos);
-        if (chCode === 32 /* SPACE */ || chCode === 9 /* HORIZONTAL_TAB */ || chCode === 13 /* CARRIAGE_RETURN */) {
+        if (chCode === 32 /* ChCode.SPACE */ || chCode === 9 /* ChCode.HORIZONTAL_TAB */ || chCode === 13 /* ChCode.CARRIAGE_RETURN */) {
             // regular whitespace
             pos++;
             char++;
             continue;
         }
-        if (chCode === 10 /* LINE_FEED */) {
+        if (chCode === 10 /* ChCode.LINE_FEED */) {
             // newline
             pos++;
             line++;
@@ -248,9 +248,9 @@ function nextJSONToken(_state, _out) {
     _out.offset = pos;
     _out.line = line;
     _out.char = char;
-    if (chCode === 34 /* QUOTATION_MARK */) {
+    if (chCode === 34 /* ChCode.QUOTATION_MARK */) {
         //------------------------ strings
-        _out.type = 1 /* STRING */;
+        _out.type = 1 /* JSONTokenType.STRING */;
         pos++;
         char++;
         do {
@@ -260,13 +260,13 @@ function nextJSONToken(_state, _out) {
             chCode = source.charCodeAt(pos);
             pos++;
             char++;
-            if (chCode === 92 /* BACKSLASH */) {
+            if (chCode === 92 /* ChCode.BACKSLASH */) {
                 // skip next char
                 pos++;
                 char++;
                 continue;
             }
-            if (chCode === 34 /* QUOTATION_MARK */) {
+            if (chCode === 34 /* ChCode.QUOTATION_MARK */) {
                 // end of the string
                 break;
             }
@@ -287,109 +287,109 @@ function nextJSONToken(_state, _out) {
             }
         });
     }
-    else if (chCode === 91 /* LEFT_SQUARE_BRACKET */) {
-        _out.type = 2 /* LEFT_SQUARE_BRACKET */;
+    else if (chCode === 91 /* ChCode.LEFT_SQUARE_BRACKET */) {
+        _out.type = 2 /* JSONTokenType.LEFT_SQUARE_BRACKET */;
         pos++;
         char++;
     }
-    else if (chCode === 123 /* LEFT_CURLY_BRACKET */) {
-        _out.type = 3 /* LEFT_CURLY_BRACKET */;
+    else if (chCode === 123 /* ChCode.LEFT_CURLY_BRACKET */) {
+        _out.type = 3 /* JSONTokenType.LEFT_CURLY_BRACKET */;
         pos++;
         char++;
     }
-    else if (chCode === 93 /* RIGHT_SQUARE_BRACKET */) {
-        _out.type = 4 /* RIGHT_SQUARE_BRACKET */;
+    else if (chCode === 93 /* ChCode.RIGHT_SQUARE_BRACKET */) {
+        _out.type = 4 /* JSONTokenType.RIGHT_SQUARE_BRACKET */;
         pos++;
         char++;
     }
-    else if (chCode === 125 /* RIGHT_CURLY_BRACKET */) {
-        _out.type = 5 /* RIGHT_CURLY_BRACKET */;
+    else if (chCode === 125 /* ChCode.RIGHT_CURLY_BRACKET */) {
+        _out.type = 5 /* JSONTokenType.RIGHT_CURLY_BRACKET */;
         pos++;
         char++;
     }
-    else if (chCode === 58 /* COLON */) {
-        _out.type = 6 /* COLON */;
+    else if (chCode === 58 /* ChCode.COLON */) {
+        _out.type = 6 /* JSONTokenType.COLON */;
         pos++;
         char++;
     }
-    else if (chCode === 44 /* COMMA */) {
-        _out.type = 7 /* COMMA */;
+    else if (chCode === 44 /* ChCode.COMMA */) {
+        _out.type = 7 /* JSONTokenType.COMMA */;
         pos++;
         char++;
     }
-    else if (chCode === 110 /* n */) {
+    else if (chCode === 110 /* ChCode.n */) {
         //------------------------ null
-        _out.type = 8 /* NULL */;
+        _out.type = 8 /* JSONTokenType.NULL */;
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 117 /* u */) {
+        if (chCode !== 117 /* ChCode.u */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 108 /* l */) {
+        if (chCode !== 108 /* ChCode.l */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 108 /* l */) {
+        if (chCode !== 108 /* ChCode.l */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
     }
-    else if (chCode === 116 /* t */) {
+    else if (chCode === 116 /* ChCode.t */) {
         //------------------------ true
-        _out.type = 9 /* TRUE */;
+        _out.type = 9 /* JSONTokenType.TRUE */;
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 114 /* r */) {
+        if (chCode !== 114 /* ChCode.r */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 117 /* u */) {
+        if (chCode !== 117 /* ChCode.u */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 101 /* e */) {
+        if (chCode !== 101 /* ChCode.e */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
     }
-    else if (chCode === 102 /* f */) {
+    else if (chCode === 102 /* ChCode.f */) {
         //------------------------ false
-        _out.type = 10 /* FALSE */;
+        _out.type = 10 /* JSONTokenType.FALSE */;
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 97 /* a */) {
+        if (chCode !== 97 /* ChCode.a */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 108 /* l */) {
+        if (chCode !== 108 /* ChCode.l */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 115 /* s */) {
+        if (chCode !== 115 /* ChCode.s */) {
             return false; /* INVALID */
         }
         pos++;
         char++;
         chCode = source.charCodeAt(pos);
-        if (chCode !== 101 /* e */) {
+        if (chCode !== 101 /* ChCode.e */) {
             return false; /* INVALID */
         }
         pos++;
@@ -397,16 +397,16 @@ function nextJSONToken(_state, _out) {
     }
     else {
         //------------------------ numbers
-        _out.type = 11 /* NUMBER */;
+        _out.type = 11 /* JSONTokenType.NUMBER */;
         do {
             if (pos >= len) {
                 return false; /*EOS*/
             }
             chCode = source.charCodeAt(pos);
-            if (chCode === 46 /* DOT */
-                || (chCode >= 48 /* D0 */ && chCode <= 57 /* D9 */)
-                || (chCode === 101 /* e */ || chCode === 69 /* E */)
-                || (chCode === 45 /* MINUS */ || chCode === 43 /* PLUS */)) {
+            if (chCode === 46 /* ChCode.DOT */
+                || (chCode >= 48 /* ChCode.D0 */ && chCode <= 57 /* ChCode.D9 */)
+                || (chCode === 101 /* ChCode.e */ || chCode === 69 /* ChCode.E */)
+                || (chCode === 45 /* ChCode.MINUS */ || chCode === 43 /* ChCode.PLUS */)) {
                 // looks like a piece of a number
                 pos++;
                 char++;
diff --git a/dist/json.js.map b/dist/json.js.map
index 6f8056c2c600f4e9309549f704c882b4864c6633..6ac6cad0705008208bc473a88a3fcd441d513759 100644
--- a/dist/json.js.map
+++ b/dist/json.js.map
@@ -1 +1 @@
-{"version":3,"file":"json.js","sourceRoot":"","sources":["../src/json.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"json.js","sourceRoot":"","sources":["../src/json.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/main.js b/dist/main.js
index 44b041a5abe9b116a3bac199cf28cc4126194c61..c41ec1f661b6882eea8aa87dd59cbba04d4bd9cc 100644
--- a/dist/main.js
+++ b/dist/main.js
@@ -3,20 +3,21 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
+    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
     return new (P || (P = Promise))(function (resolve, reject) {
         function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
         function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
-        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
+        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
         step((generator = generator.apply(thisArg, _arguments || [])).next());
     });
 };
 var __generator = (this && this.__generator) || function (thisArg, body) {
-    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
-    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
+    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
+    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
     function verb(n) { return function (v) { return step([n, v]); }; }
     function step(op) {
         if (f) throw new TypeError("Generator is already executing.");
-        while (_) try {
+        while (g && (g = 0, op[0] && (_ = 0)), _) try {
             if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
             if (y = 0, t) op = [op[0] & 2, t.value];
             switch (op[0]) {
@@ -38,6 +39,7 @@ var __generator = (this && this.__generator) || function (thisArg, body) {
     }
 };
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.INITIAL = exports.Registry = void 0;
 var registry_1 = require("./registry");
 var grammarReader_1 = require("./grammarReader");
 var theme_1 = require("./theme");
@@ -101,11 +103,11 @@ var Registry = /** @class */ (function () {
             });
         });
     };
-    Registry.prototype._loadGrammar = function (initialScopeName, dependentScope) {
-        if (dependentScope === void 0) { dependentScope = null; }
-        return __awaiter(this, void 0, void 0, function () {
+    Registry.prototype._loadGrammar = function (initialScopeName_1) {
+        return __awaiter(this, arguments, void 0, function (initialScopeName, dependentScope) {
             var prom;
             var _this = this;
+            if (dependentScope === void 0) { dependentScope = null; }
             return __generator(this, function (_a) {
                 switch (_a.label) {
                     case 0:
@@ -135,9 +137,9 @@ var Registry = /** @class */ (function () {
                                         }
                                         rawGrammar = grammarDefinition.format === 'json'
                                             ? typeof grammarDefinition.content === 'string'
-                                                ? grammarReader_1.parseJSONGrammar(grammarDefinition.content, 'c://fakepath/grammar.json')
+                                                ? (0, grammarReader_1.parseJSONGrammar)(grammarDefinition.content, 'c://fakepath/grammar.json')
                                                 : grammarDefinition.content
-                                            : grammarReader_1.parsePLISTGrammar(grammarDefinition.content, 'c://fakepath/grammar.plist');
+                                            : (0, grammarReader_1.parsePLISTGrammar)(grammarDefinition.content, 'c://fakepath/grammar.plist');
                                         injections = (typeof this._locator.getInjections === 'function') && this._locator.getInjections(initialScopeName);
                                         rawGrammar.scopeName = initialScopeName;
                                         deps = this._syncRegistry.addGrammar(rawGrammar, injections);
@@ -147,7 +149,7 @@ var Registry = /** @class */ (function () {
                                                         return [2 /*return*/, this._loadGrammar(scopeNameD, initialScopeName)];
                                                     }
                                                     catch (error) {
-                                                        throw new Error("While trying to load tmGrammar with scopeId: '" + initialScopeName + "', it's dependency (scopeId: " + scopeNameD + ") loading errored: " + error.message);
+                                                        throw new Error("While trying to load tmGrammar with scopeId: '".concat(initialScopeName, "', it's dependency (scopeId: ").concat(scopeNameD, ") loading errored: ").concat(error.message));
                                                     }
                                                     return [2 /*return*/];
                                                 });
diff --git a/dist/main.js.map b/dist/main.js.map
index bc295e25a2768ae31504222ccd3c46bc00ca6fb0..fcf04b9bbeefe53fd3453a1a2a36142c3371373a 100644
--- a/dist/main.js.map
+++ b/dist/main.js.map
@@ -1 +1 @@
-{"version":3,"file":"main.js","sourceRoot":"","sources":["../src/main.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"main.js","sourceRoot":"","sources":["../src/main.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/matcher.js b/dist/matcher.js
index d7eee25a7b6f1931df99728f0abb561b7cb0d0a5..ce2bf8f8a471068401df1cb8329605726191b1d3 100644
--- a/dist/matcher.js
+++ b/dist/matcher.js
@@ -3,6 +3,7 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.createMatchers = createMatchers;
 function createMatchers(selector, matchesName) {
     var results = [];
     var tokenizer = newTokenizer(selector);
@@ -18,7 +19,7 @@ function createMatchers(selector, matchesName) {
                     priority = -1;
                     break;
                 default:
-                    console.log("Unknown priority " + token + " in scope selector");
+                    console.log("Unknown priority ".concat(token, " in scope selector"));
             }
             token = tokenizer.next();
         }
@@ -83,7 +84,6 @@ function createMatchers(selector, matchesName) {
         return function (matcherInput) { return matchers.some(function (matcher) { return matcher(matcherInput); }); }; // or
     }
 }
-exports.createMatchers = createMatchers;
 function isIdentifier(token) {
     return token && token.match(/[\w\.:]+/);
 }
diff --git a/dist/matcher.js.map b/dist/matcher.js.map
index 7d77779c880825574f352c7497af5e5a39aadea9..113fa6c9bf7ae1babcbb2c8d41948960c364ce9a 100644
--- a/dist/matcher.js.map
+++ b/dist/matcher.js.map
@@ -1 +1 @@
-{"version":3,"file":"matcher.js","sourceRoot":"","sources":["../src/matcher.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"matcher.js","sourceRoot":"","sources":["../src/matcher.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;AAW5D,wCA2EC;AA3ED,SAAgB,cAAc,CAAI,QAAgB,EAAE,WAA0D;IAC7G,IAAI,OAAO,GAA8B,EAAE,CAAC;IAC5C,IAAI,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;IACvC,IAAI,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;IAC7B,OAAO,KAAK,KAAK,IAAI,EAAE,CAAC;QACvB,IAAI,QAAQ,GAAgB,CAAC,CAAC;QAC9B,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;YACnD,QAAQ,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;gBACzB,KAAK,GAAG;oBAAE,QAAQ,GAAG,CAAC,CAAC;oBAAC,MAAM;gBAC9B,KAAK,GAAG;oBAAE,QAAQ,GAAG,CAAC,CAAC,CAAC;oBAAC,MAAM;gBAC/B;oBACC,OAAO,CAAC,GAAG,CAAC,2BAAoB,KAAK,uBAAoB,CAAC,CAAC;YAC7D,CAAC;YACD,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;QAC1B,CAAC;QACD,IAAI,OAAO,GAAG,gBAAgB,EAAE,CAAC;QACjC,IAAI,OAAO,EAAE,CAAC;YACb,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,QAAQ,UAAA,EAAE,CAAC,CAAC;QACrC,CAAC;QACD,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC;YACnB,MAAM;QACP,CAAC;QACD,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IACD,OAAO,OAAO,CAAC;IAEf,SAAS,YAAY;QACpB,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC;YACnB,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;YACzB,IAAI,kBAAkB,GAAG,YAAY,EAAE,CAAC;YACxC,OAAO,UAAA,YAAY,IAAI,OAAA,kBAAkB,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,EAAvD,CAAuD,CAAC;QAChF,CAAC;QACD,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC;YACnB,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;YACzB,IAAI,mBAAmB,GAAG,oBAAoB,EAAE,CAAC;YACjD,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC;gBACnB,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;YAC1B,CAAC;YACD,OAAO,mBAAmB,CAAC;QAC5B,CAAC;QACD,IAAI,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC;YACzB,IAAI,WAAW,GAAa,EAAE,CAAC;YAC/B,GAAG,CAAC;gBACH,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACxB,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;YAC1B,CAAC,QAAQ,YAAY,CAAC,KAAK,CAAC,EAAE;YAC9B,OAAO,UAAA,YAAY,IAAI,OAAA,WAAW,CAAC,WAAW,EAAE,YAAY,CAAC,EAAtC,CAAsC,CAAC;QAC/D,CAAC;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IACD,SAAS,gBAAgB;QACxB,IAAI,QAAQ,GAAiB,EAAE,CAAC;QAChC,IAAI,OAAO,GAAG,YAAY,EAAE,CAAC;QAC7B,OAAO,OAAO,EAAE,CAAC;YAChB,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACvB,OAAO,GAAG,YAAY,EAAE,CAAC;QAC1B,CAAC;QACD,OAAO,UAAA,YAAY,IAAI,OAAA,QAAQ,CAAC,KAAK,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,YAAY,CAAC,EAArB,CAAqB,CAAC,EAAhD,CAAgD,CAAC,CAAC,MAAM;IAChF,CAAC;IACD,SAAS,oBAAoB;QAC5B,IAAI,QAAQ,GAAiB,EAAE,CAAC;QAChC,IAAI,OAAO,GAAG,gBAAgB,EAAE,CAAC;QACjC,OAAO,OAAO,EAAE,CAAC;YAChB,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACvB,IAAI,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC;gBACpC,GAAG,CAAC;oBACH,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;gBAC1B,CAAC,QAAQ,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC,2BAA2B;YACtE,CAAC;iBAAM,CAAC;gBACP,MAAM;YACP,CAAC;YACD,OAAO,GAAG,gBAAgB,EAAE,CAAC;QAC9B,CAAC;QACD,OAAO,UAAA,YAAY,IAAI,OAAA,QAAQ,CAAC,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,YAAY,CAAC,EAArB,CAAqB,CAAC,EAA/C,CAA+C,CAAC,CAAC,KAAK;IAC9E,CAAC;AACF,CAAC;AAED,SAAS,YAAY,CAAC,KAAa;IAClC,OAAO,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACzC,CAAC;AAED,SAAS,YAAY,CAAC,KAAa;IAClC,IAAI,KAAK,GAAG,yCAAyC,CAAC;IACtD,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,OAAO;QACN,IAAI,EAAE;YACL,IAAI,CAAC,KAAK,EAAE,CAAC;gBACZ,OAAO,IAAI,CAAC;YACb,CAAC;YACD,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACnB,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,GAAG,CAAC;QACZ,CAAC;KACD,CAAC;AACH,CAAC"}
\ No newline at end of file
diff --git a/dist/registry.js b/dist/registry.js
index 2e9d2dfbf8a3e24e0a6463bc56cdf7d98da1e479..6b38bc681ef404f77acf4e1d346cfd29af478c4a 100644
--- a/dist/registry.js
+++ b/dist/registry.js
@@ -3,6 +3,7 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.SyncRegistry = void 0;
 var grammar_1 = require("./grammar");
 var SyncRegistry = /** @class */ (function () {
     function SyncRegistry(theme) {
@@ -28,7 +29,7 @@ var SyncRegistry = /** @class */ (function () {
     SyncRegistry.prototype.addGrammar = function (grammar, injectionScopeNames) {
         this._rawGrammars[grammar.scopeName] = grammar;
         var includedScopes = {};
-        grammar_1.collectIncludedScopes(includedScopes, grammar);
+        (0, grammar_1.collectIncludedScopes)(includedScopes, grammar);
         if (injectionScopeNames) {
             this._injectionGrammars[grammar.scopeName] = injectionScopeNames;
             injectionScopeNames.forEach(function (scopeName) {
@@ -70,7 +71,7 @@ var SyncRegistry = /** @class */ (function () {
             if (!rawGrammar) {
                 return null;
             }
-            this._grammars[scopeName] = grammar_1.createGrammar(rawGrammar, initialLanguage, embeddedLanguages, tokenTypes, this);
+            this._grammars[scopeName] = (0, grammar_1.createGrammar)(rawGrammar, initialLanguage, embeddedLanguages, tokenTypes, this);
         }
         return this._grammars[scopeName];
     };
diff --git a/dist/registry.js.map b/dist/registry.js.map
index 78aaa914f303f815bc5443b0125d239e4984038d..1f9721868fde9057e9bb0a7d4fa91fd84e544104 100644
--- a/dist/registry.js.map
+++ b/dist/registry.js.map
@@ -1 +1 @@
-{"version":3,"file":"registry.js","sourceRoot":"","sources":["../src/registry.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;AAE5D,qCAA6G;AAK7G;IAOC,sBAAY,KAAY;QACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IAC9B,CAAC;IAEM,+BAAQ,GAAf,UAAgB,KAAY;QAA5B,iBAMC;QALA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAC,SAAS;YAC7C,IAAI,OAAO,GAAG,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACxC,OAAO,CAAC,gBAAgB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;IACJ,CAAC;IAEM,kCAAW,GAAlB;QACC,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAED;;OAEG;IACI,iCAAU,GAAjB,UAAkB,OAAoB,EAAE,mBAA8B;QACrE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;QAE/C,IAAI,cAAc,GAAkB,EAAE,CAAC;QACvC,+BAAqB,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;QAE/C,IAAI,mBAAmB,EAAE;YACxB,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,mBAAmB,CAAC;YACjE,mBAAmB,CAAC,OAAO,CAAC,UAAA,SAAS;gBACpC,cAAc,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;YAClC,CAAC,CAAC,CAAC;SACH;QACD,OAAO,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACpC,CAAC;IAED;;OAEG;IACI,6BAAM,GAAb,UAAc,SAAiB;QAC9B,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC;IAED;;OAEG;IACI,iCAAU,GAAjB,UAAkB,WAAmB;QACpC,OAAO,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;IAC7C,CAAC;IAED;;OAEG;IACI,kCAAW,GAAlB;QACC,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAED;;OAEG;IACI,iCAAU,GAAjB,UAAkB,SAAiB;QAClC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC;IAGD;;OAEG;IACI,0CAAmB,GAA1B,UAA2B,SAAiB,EAAE,eAAuB,EAAE,iBAAwC,EAAE,UAAyB;QACzI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;YAC/B,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YAC9C,IAAI,CAAC,UAAU,EAAE;gBAChB,OAAO,IAAI,CAAC;aACZ;YAED,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,uBAAa,CAAC,UAAU,EAAE,eAAe,EAAE,iBAAiB,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;SAC5G;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IACF,mBAAC;AAAD,CAAC,AAvFD,IAuFC;AAvFY,oCAAY"}
\ No newline at end of file
+{"version":3,"file":"registry.js","sourceRoot":"","sources":["../src/registry.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;;AAE5D,qCAA6G;AAK7G;IAOC,sBAAY,KAAY;QACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IAC9B,CAAC;IAEM,+BAAQ,GAAf,UAAgB,KAAY;QAA5B,iBAMC;QALA,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAC,SAAS;YAC7C,IAAI,OAAO,GAAG,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACxC,OAAO,CAAC,gBAAgB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;IACJ,CAAC;IAEM,kCAAW,GAAlB;QACC,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAED;;OAEG;IACI,iCAAU,GAAjB,UAAkB,OAAoB,EAAE,mBAA8B;QACrE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;QAE/C,IAAI,cAAc,GAAkB,EAAE,CAAC;QACvC,IAAA,+BAAqB,EAAC,cAAc,EAAE,OAAO,CAAC,CAAC;QAE/C,IAAI,mBAAmB,EAAE,CAAC;YACzB,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,mBAAmB,CAAC;YACjE,mBAAmB,CAAC,OAAO,CAAC,UAAA,SAAS;gBACpC,cAAc,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;YAClC,CAAC,CAAC,CAAC;QACJ,CAAC;QACD,OAAO,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACpC,CAAC;IAED;;OAEG;IACI,6BAAM,GAAb,UAAc,SAAiB;QAC9B,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC;IAED;;OAEG;IACI,iCAAU,GAAjB,UAAkB,WAAmB;QACpC,OAAO,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;IAC7C,CAAC;IAED;;OAEG;IACI,kCAAW,GAAlB;QACC,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAED;;OAEG;IACI,iCAAU,GAAjB,UAAkB,SAAiB;QAClC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC;IAGD;;OAEG;IACI,0CAAmB,GAA1B,UAA2B,SAAiB,EAAE,eAAuB,EAAE,iBAAwC,EAAE,UAAyB;QACzI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC;YAChC,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YAC9C,IAAI,CAAC,UAAU,EAAE,CAAC;gBACjB,OAAO,IAAI,CAAC;YACb,CAAC;YAED,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,IAAA,uBAAa,EAAC,UAAU,EAAE,eAAe,EAAE,iBAAiB,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;QAC7G,CAAC;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IACF,mBAAC;AAAD,CAAC,AAvFD,IAuFC;AAvFY,oCAAY"}
\ No newline at end of file
diff --git a/dist/rule.js b/dist/rule.js
index 45769cc26d540592ef609e6d99a657fe442bd41f..347de98671d0dd245e56b0e07865526ca0f7ffab 100644
--- a/dist/rule.js
+++ b/dist/rule.js
@@ -3,17 +3,24 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 var __extends = (this && this.__extends) || (function () {
-    var extendStatics = Object.setPrototypeOf ||
-        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
-        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
+    var extendStatics = function (d, b) {
+        extendStatics = Object.setPrototypeOf ||
+            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
+            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
+        return extendStatics(d, b);
+    };
     return function (d, b) {
+        if (typeof b !== "function" && b !== null)
+            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
         extendStatics(d, b);
         function __() { this.constructor = d; }
         d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
     };
 })();
 Object.defineProperty(exports, "__esModule", { value: true });
-var path = require("path");
+exports.RuleFactory = exports.BeginWhileRule = exports.BeginEndRule = exports.IncludeOnlyRule = exports.MatchRule = exports.RegExpSourceList = exports.RegExpSource = exports.CaptureRule = exports.Rule = void 0;
+exports.createOnigString = createOnigString;
+exports.getString = getString;
 var utils_1 = require("./utils");
 var onigasm_1 = require("onigasm");
 var HAS_BACK_REFERENCES = /\\(\d+)/;
@@ -29,9 +36,9 @@ var Rule = /** @class */ (function () {
     }
     Object.defineProperty(Rule.prototype, "debugName", {
         get: function () {
-            return this.constructor.name + "#" + this.id + " @ " + path.basename(this.$location.filename) + ":" + this.$location.line;
+            return "".concat(this.constructor.name, "#").concat(this.id, " @ ").concat((0, utils_1.basename)(this.$location.filename), ":").concat(this.$location.line);
         },
-        enumerable: true,
+        enumerable: false,
         configurable: true
     });
     Rule.prototype.getName = function (lineText, captureIndices) {
@@ -215,11 +222,9 @@ function createOnigString(sources) {
     r.$str = sources;
     return r;
 }
-exports.createOnigString = createOnigString;
 function getString(str) {
     return str.$str;
 }
-exports.getString = getString;
 var RegExpSourceList = /** @class */ (function () {
     function RegExpSourceList() {
         this._items = [];
@@ -314,9 +319,9 @@ var MatchRule = /** @class */ (function (_super) {
     }
     Object.defineProperty(MatchRule.prototype, "debugMatchRegExp", {
         get: function () {
-            return "" + this._match.source;
+            return "".concat(this._match.source);
         },
-        enumerable: true,
+        enumerable: false,
         configurable: true
     });
     MatchRule.prototype.collectPatternsRecursive = function (grammar, out, isFirst) {
@@ -378,16 +383,16 @@ var BeginEndRule = /** @class */ (function (_super) {
     }
     Object.defineProperty(BeginEndRule.prototype, "debugBeginRegExp", {
         get: function () {
-            return "" + this._begin.source;
+            return "".concat(this._begin.source);
         },
-        enumerable: true,
+        enumerable: false,
         configurable: true
     });
     Object.defineProperty(BeginEndRule.prototype, "debugEndRegExp", {
         get: function () {
-            return "" + this._end.source;
+            return "".concat(this._end.source);
         },
-        enumerable: true,
+        enumerable: false,
         configurable: true
     });
     BeginEndRule.prototype.getEndWithResolvedBackReferences = function (lineText, captureIndices) {
@@ -506,7 +511,7 @@ var RuleFactory = /** @class */ (function () {
                 }
                 if (!desc.begin) {
                     if (desc.repository) {
-                        repository = utils_1.mergeObjects({}, repository, desc.repository);
+                        repository = (0, utils_1.mergeObjects)({}, repository, desc.repository);
                     }
                     return new IncludeOnlyRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.contentName, RuleFactory._compilePatterns(desc.patterns, helper, repository));
                 }
diff --git a/dist/rule.js.map b/dist/rule.js.map
index 47d4656828427ed4b6a0e82f1ecfd5f29bfa305e..306279ae8c7db85c4ab8a648a3ae9fc1a2ad2505 100644
--- a/dist/rule.js.map
+++ b/dist/rule.js.map
@@ -1 +1 @@
-{"version":3,"file":"rule.js","sourceRoot":"","sources":["../src/rule.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"rule.js","sourceRoot":"","sources":["../src/rule.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;;;;;;;;;;;;;;;;;AA+Q5D,4CAIC;AAED,8BAEC;AArRD,iCAA8D;AAE9D,mCAAqE;AAErE,IAAM,mBAAmB,GAAG,SAAS,CAAC;AACtC,IAAM,oBAAoB,GAAG,UAAU,CAAC;AAoBxC;IAWC,cAAY,SAAoB,EAAE,EAAU,EAAE,IAAY,EAAE,WAAmB;QAC9E,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,IAAI,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,mBAAW,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5D,IAAI,CAAC,YAAY,GAAG,WAAW,IAAI,IAAI,CAAC;QACxC,IAAI,CAAC,uBAAuB,GAAG,mBAAW,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC3E,CAAC;IAED,sBAAW,2BAAS;aAApB;YACC,OAAO,UAAS,IAAI,CAAC,WAAY,CAAC,IAAI,cAAI,IAAI,CAAC,EAAE,gBAAM,IAAA,gBAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAE,CAAC;QACnH,CAAC;;;OAAA;IAEM,sBAAO,GAAd,UAAe,QAAgB,EAAE,cAAmC;QACnE,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5B,OAAO,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;QACD,OAAO,mBAAW,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC;IAC1E,CAAC;IAEM,6BAAc,GAArB,UAAsB,QAAgB,EAAE,cAAmC;QAC1E,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACnC,OAAO,IAAI,CAAC,YAAY,CAAC;QAC1B,CAAC;QACD,OAAO,mBAAW,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC;IACjF,CAAC;IAEM,uCAAwB,GAA/B,UAAgC,OAAsB,EAAE,GAAqB,EAAE,OAAgB;QAC9F,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;IAClC,CAAC;IAEM,sBAAO,GAAd,UAAe,OAAsB,EAAE,cAAsB,EAAE,MAAe,EAAE,MAAe;QAC9F,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;IAClC,CAAC;IACF,WAAC;AAAD,CAAC,AA7CD,IA6CC;AA7CqB,oBAAI;AAoD1B;IAAiC,+BAAI;IAIpC,qBAAY,SAAoB,EAAE,EAAU,EAAE,IAAY,EAAE,WAAmB,EAAE,4BAAoC;QACpH,YAAA,MAAK,YAAC,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,SAAC;QACxC,KAAI,CAAC,4BAA4B,GAAG,4BAA4B,CAAC;;IAClE,CAAC;IACF,kBAAC;AAAD,CAAC,AARD,CAAiC,IAAI,GAQpC;AARY,kCAAW;AAiBxB;IAQC,sBAAY,YAAoB,EAAE,MAAc,EAAE,aAA6B;QAA7B,8BAAA,EAAA,oBAA6B;QAC9E,IAAI,aAAa,EAAE,CAAC;YACnB,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACnC,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC;YAC3B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACxB,CAAC;QAED,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC9C,CAAC;QAED,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,iBAAiB,GAAG,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE/D,wFAAwF;IACzF,CAAC;IAEM,4BAAK,GAAZ;QACC,OAAO,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAEM,gCAAS,GAAhB,UAAiB,SAAiB;QACjC,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC;YAC/B,OAAO;QACR,CAAC;QACD,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QAExB,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC9C,CAAC;IACF,CAAC;IAEO,qCAAc,GAAtB,UAAuB,YAAoB;QAC1C,IAAI,YAAY,EAAE,CAAC;YAClB,IAAI,GAAG,SAAQ,EACd,GAAG,SAAQ,EACX,EAAE,SAAQ,EACV,MAAM,SAAQ,EACd,aAAa,GAAG,CAAC,EACjB,MAAM,GAAa,EAAE,CAAC;YAEvB,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,KAAK,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,YAAY,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;gBAC3D,EAAE,GAAG,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAE9B,IAAI,EAAE,KAAK,IAAI,EAAE,CAAC;oBACjB,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC;wBACnB,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;wBACtC,IAAI,MAAM,KAAK,GAAG,EAAE,CAAC;4BACpB,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,CAAC;4BACxD,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;4BAChC,aAAa,GAAG,GAAG,GAAG,CAAC,CAAC;wBACzB,CAAC;6BAAM,IAAI,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,GAAG,EAAE,CAAC;4BAC7C,SAAS,GAAG,IAAI,CAAC;wBAClB,CAAC;wBACD,GAAG,EAAE,CAAC;oBACP,CAAC;gBACF,CAAC;YACF,CAAC;YAED,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;YAC3B,IAAI,aAAa,KAAK,CAAC,EAAE,CAAC;gBACzB,YAAY;gBACZ,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC;YAC5B,CAAC;iBAAM,CAAC;gBACP,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC/B,CAAC;QACF,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC;QAC5B,CAAC;IACF,CAAC;IAEM,4CAAqB,GAA5B,UAA6B,QAAgB,EAAE,cAAmC;QACjF,IAAI,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,UAAC,OAAO;YAC/C,OAAO,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QACH,oBAAoB,CAAC,SAAS,GAAG,CAAC,CAAC;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,oBAAoB,EAAE,UAAC,KAAK,EAAE,EAAE;YAC1D,OAAO,sBAAsB,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;IACJ,CAAC;IAEO,wCAAiB,GAAzB;QACC,IAAI,YAAY,GAAa,EAAE,CAAC;QAChC,IAAI,YAAY,GAAa,EAAE,CAAC;QAChC,IAAI,YAAY,GAAa,EAAE,CAAC;QAChC,IAAI,YAAY,GAAa,EAAE,CAAC;QAEhC,IAAI,GAAW,EACd,GAAW,EACX,EAAU,EACV,MAAc,CAAC;QAEhB,KAAK,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;YAC1D,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC7B,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YACvB,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YACvB,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YACvB,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YAEvB,IAAI,EAAE,KAAK,IAAI,EAAE,CAAC;gBACjB,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC;oBACnB,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBACrC,IAAI,MAAM,KAAK,GAAG,EAAE,CAAC;wBACpB,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC;wBACjC,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC;wBACjC,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;wBAC5B,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;oBAC7B,CAAC;yBAAM,IAAI,MAAM,KAAK,GAAG,EAAE,CAAC;wBAC3B,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC;wBACjC,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;wBAC5B,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC;wBACjC,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;oBAC7B,CAAC;yBAAM,CAAC;wBACP,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;wBAC/B,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;wBAC/B,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;wBAC/B,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;oBAChC,CAAC;oBACD,GAAG,EAAE,CAAC;gBACP,CAAC;YACF,CAAC;QACF,CAAC;QAED,OAAO;YACN,KAAK,EAAE,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC;YAC5B,KAAK,EAAE,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC;YAC5B,KAAK,EAAE,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC;YAC5B,KAAK,EAAE,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC;SAC5B,CAAC;IACH,CAAC;IAEM,qCAAc,GAArB,UAAsB,MAAe,EAAE,MAAe;QACrD,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YACrB,OAAO,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC;QAED,IAAI,MAAM,EAAE,CAAC;YACZ,IAAI,MAAM,EAAE,CAAC;gBACZ,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAChC,CAAC;iBAAM,CAAC;gBACP,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAChC,CAAC;QACF,CAAC;aAAM,CAAC;YACP,IAAI,MAAM,EAAE,CAAC;gBACZ,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAChC,CAAC;iBAAM,CAAC;gBACP,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAChC,CAAC;QACF,CAAC;IACF,CAAC;IACF,mBAAC;AAAD,CAAC,AAlKD,IAkKC;AAlKY,oCAAY;AA2KzB,SAAS,iBAAiB,CAAC,OAAiB;IAC3C,OAAO,IAAI,qBAAW,CAAC,OAAO,CAAC,CAAC;AACjC,CAAC;AAED,SAAgB,gBAAgB,CAAC,OAAe;IAC/C,IAAI,CAAC,GAAG,IAAI,oBAAU,CAAC,OAAO,CAAC,CAAC;IAC1B,CAAE,CAAC,IAAI,GAAG,OAAO,CAAC;IACxB,OAAO,CAAC,CAAC;AACV,CAAC;AAED,SAAgB,SAAS,CAAC,GAAe;IACxC,OAAa,GAAI,CAAC,IAAI,CAAC;AACxB,CAAC;AAED;IAQC;QACC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG;YACnB,KAAK,EAAE,IAAI;YACX,KAAK,EAAE,IAAI;YACX,KAAK,EAAE,IAAI;YACX,KAAK,EAAE,IAAI;SACX,CAAC;IACH,CAAC;IAEM,+BAAI,GAAX,UAAY,IAAkB;QAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC;IACvD,CAAC;IAEM,kCAAO,GAAd,UAAe,IAAkB;QAChC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC;IACvD,CAAC;IAEM,iCAAM,GAAb;QACC,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC3B,CAAC;IAEM,oCAAS,GAAhB,UAAiB,KAAa,EAAE,SAAiB;QAChD,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC;YAC7C,iBAAiB;YACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QACzC,CAAC;IACF,CAAC;IAEM,kCAAO,GAAd,UAAe,OAAsB,EAAE,MAAe,EAAE,MAAe;QACtE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACnB,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,MAAM,EAAR,CAAQ,CAAC,CAAC;gBAC7C,IAAI,CAAC,OAAO,GAAG;oBACd,OAAO,EAAE,iBAAiB,CAAC,OAAO,CAAC;oBACnC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,MAAM,EAAR,CAAQ,CAAC;oBACrC,YAAY,EAAE,OAAO;iBACrB,CAAC;YACH,CAAC;YACD,OAAO,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,YAAY,GAAG;gBACnB,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,KAAK,IAAI,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACtH,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,KAAK,IAAI,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACrH,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,IAAI,IAAI,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACrH,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,IAAI,IAAI,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;aACpH,CAAC;YACF,IAAI,MAAM,EAAE,CAAC;gBACZ,IAAI,MAAM,EAAE,CAAC;oBACZ,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBAChC,CAAC;qBAAM,CAAC;oBACP,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBAChC,CAAC;YACF,CAAC;iBAAM,CAAC;gBACP,IAAI,MAAM,EAAE,CAAC;oBACZ,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBAChC,CAAC;qBAAM,CAAC;oBACP,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBAChC,CAAC;YACF,CAAC;QACF,CAAC;IAEF,CAAC;IAEO,0CAAe,GAAvB,UAAwB,MAAe,EAAE,MAAe;QACvD,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,cAAc,CAAC,MAAM,EAAE,MAAM,CAAC,EAAhC,CAAgC,CAAC,CAAC;QACrE,OAAO;YACN,OAAO,EAAE,iBAAiB,CAAC,OAAO,CAAC;YACnC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,MAAM,EAAR,CAAQ,CAAC;YACrC,YAAY,EAAE,OAAO;SACrB,CAAC;IACH,CAAC;IACF,uBAAC;AAAD,CAAC,AA1FD,IA0FC;AA1FY,4CAAgB;AA4F7B;IAA+B,6BAAI;IAKlC,mBAAY,SAAoB,EAAE,EAAU,EAAE,IAAY,EAAE,KAAa,EAAE,QAAuB;QACjG,YAAA,MAAK,YAAC,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAC;QACjC,KAAI,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,KAAI,CAAC,EAAE,CAAC,CAAC;QAC/C,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;;IACrC,CAAC;IAED,sBAAW,uCAAgB;aAA3B;YACC,OAAO,UAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,CAAC;QAChC,CAAC;;;OAAA;IAEM,4CAAwB,GAA/B,UAAgC,OAAsB,EAAE,GAAqB,EAAE,OAAgB;QAC9F,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACvB,CAAC;IAEM,2BAAO,GAAd,UAAe,OAAsB,EAAE,cAAsB,EAAE,MAAe,EAAE,MAAe;QAC9F,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACnC,IAAI,CAAC,uBAAuB,GAAG,IAAI,gBAAgB,EAAE,CAAC;YACtD,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;QAC5E,CAAC;QACD,OAAO,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACtE,CAAC;IACF,gBAAC;AAAD,CAAC,AA3BD,CAA+B,IAAI,GA2BlC;AA3BY,8BAAS;AA6BtB;IAAqC,mCAAI;IAKxC,yBAAY,SAAoB,EAAE,EAAU,EAAE,IAAY,EAAE,WAAmB,EAAE,QAAgC;QAChH,YAAA,MAAK,YAAC,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,SAAC;QACxC,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;QAClC,KAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,kBAAkB,CAAC;QACtD,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;;IACrC,CAAC;IAEM,kDAAwB,GAA/B,UAAgC,OAAsB,EAAE,GAAqB,EAAE,OAAgB;QAC9F,IAAI,CAAS,EACZ,GAAW,EACX,IAAU,CAAC;QAEZ,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YACtD,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;QACpD,CAAC;IACF,CAAC;IAEM,iCAAO,GAAd,UAAe,OAAsB,EAAE,cAAsB,EAAE,MAAe,EAAE,MAAe;QAC9F,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACnC,IAAI,CAAC,uBAAuB,GAAG,IAAI,gBAAgB,EAAE,CAAC;YACtD,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;QAC5E,CAAC;QACD,OAAO,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACtE,CAAC;IACF,sBAAC;AAAD,CAAC,AA9BD,CAAqC,IAAI,GA8BxC;AA9BY,0CAAe;AAgC5B,SAAS,sBAAsB,CAAC,KAAa;IAC5C,OAAO,KAAK,CAAC,OAAO,CAAC,yCAAyC,EAAE,MAAM,CAAC,CAAC;AACzE,CAAC;AAED;IAAkC,gCAAI;IAWrC,sBAAY,SAAoB,EAAE,EAAU,EAAE,IAAY,EAAE,WAAmB,EAAE,KAAa,EAAE,aAA4B,EAAE,GAAW,EAAE,WAA0B,EAAE,mBAA4B,EAAE,QAAgC;QACpO,YAAA,MAAK,YAAC,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,SAAC;QACxC,KAAI,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,KAAI,CAAC,EAAE,CAAC,CAAC;QAC/C,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,KAAI,CAAC,IAAI,GAAG,IAAI,YAAY,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QACtC,KAAI,CAAC,oBAAoB,GAAG,KAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;QACxD,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,KAAI,CAAC,mBAAmB,GAAG,mBAAmB,IAAI,KAAK,CAAC;QACxD,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;QAClC,KAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,kBAAkB,CAAC;QACtD,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;;IACrC,CAAC;IAED,sBAAW,0CAAgB;aAA3B;YACC,OAAO,UAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,CAAC;QAChC,CAAC;;;OAAA;IAED,sBAAW,wCAAc;aAAzB;YACC,OAAO,UAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE,CAAC;QAC9B,CAAC;;;OAAA;IAEM,uDAAgC,GAAvC,UAAwC,QAAgB,EAAE,cAAmC;QAC5F,OAAO,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;IAClE,CAAC;IAEM,+CAAwB,GAA/B,UAAgC,OAAsB,EAAE,GAAqB,EAAE,OAAgB;QAC9F,IAAI,OAAO,EAAE,CAAC;YACb,IAAI,CAAC,SAAQ,EACZ,GAAG,SAAQ,EACX,IAAI,SAAM,CAAC;YAEZ,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACtD,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;YACpD,CAAC;QACF,CAAC;aAAM,CAAC;YACP,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACvB,CAAC;IACF,CAAC;IAEM,8BAAO,GAAd,UAAe,OAAsB,EAAE,cAAsB,EAAE,MAAe,EAAE,MAAe;QAC9F,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAE5C,IAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACjC,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC9B,WAAW,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,cAAc,CAAC,CAAC;YACjE,CAAC;iBAAM,CAAC;gBACP,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;YAC1C,CAAC;QACF,CAAC;QACD,OAAO,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACtE,CAAC;IAEO,kCAAW,GAAnB,UAAoB,OAAsB;QACzC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACnC,IAAI,CAAC,uBAAuB,GAAG,IAAI,gBAAgB,EAAE,CAAC;YAEtD,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;YAE3E,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC9B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChG,CAAC;iBAAM,CAAC;gBACP,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnG,CAAC;QACF,CAAC;QACD,OAAO,IAAI,CAAC,uBAAuB,CAAC;IACrC,CAAC;IACF,mBAAC;AAAD,CAAC,AA9ED,CAAkC,IAAI,GA8ErC;AA9EY,oCAAY;AAgFzB;IAAoC,kCAAI;IAWvC,wBAAY,SAAoB,EAAE,EAAU,EAAE,IAAY,EAAE,WAAmB,EAAE,KAAa,EAAE,aAA4B,EAAE,MAAc,EAAE,aAA4B,EAAE,QAAgC;QAC3M,YAAA,MAAK,YAAC,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,SAAC;QACxC,KAAI,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,KAAI,CAAC,EAAE,CAAC,CAAC;QAC/C,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,KAAI,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3C,KAAI,CAAC,sBAAsB,GAAG,KAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;QAC5D,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;QAClC,KAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,kBAAkB,CAAC;QACtD,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,KAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC;;IAC1C,CAAC;IAEM,2DAAkC,GAAzC,UAA0C,QAAgB,EAAE,cAAmC;QAC9F,OAAO,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;IACpE,CAAC;IAEM,iDAAwB,GAA/B,UAAgC,OAAsB,EAAE,GAAqB,EAAE,OAAgB;QAC9F,IAAI,OAAO,EAAE,CAAC;YACb,IAAI,CAAC,SAAQ,EACZ,GAAG,SAAQ,EACX,IAAI,SAAM,CAAC;YAEZ,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACtD,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;YACpD,CAAC;QACF,CAAC;aAAM,CAAC;YACP,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACvB,CAAC;IACF,CAAC;IAEM,gCAAO,GAAd,UAAe,OAAsB,EAAE,cAAsB,EAAE,MAAe,EAAE,MAAe;QAC9F,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC1B,OAAO,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACtE,CAAC;IAEO,oCAAW,GAAnB,UAAoB,OAAsB;QACzC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACnC,IAAI,CAAC,uBAAuB,GAAG,IAAI,gBAAgB,EAAE,CAAC;YACtD,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;QAC5E,CAAC;IACF,CAAC;IAGM,qCAAY,GAAnB,UAAoB,OAAsB,EAAE,cAAsB,EAAE,MAAe,EAAE,MAAe;QACnG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;YACnC,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;QAChE,CAAC;QACD,OAAO,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IAC3E,CAAC;IAGO,yCAAgB,GAAxB,UAAyB,OAAsB;QAC9C,IAAI,CAAC,IAAI,CAAC,4BAA4B,EAAE,CAAC;YACxC,IAAI,CAAC,4BAA4B,GAAG,IAAI,gBAAgB,EAAE,CAAC;YAC3D,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3G,CAAC;IACF,CAAC;IACF,qBAAC;AAAD,CAAC,AAvED,CAAoC,IAAI,GAuEvC;AAvEY,wCAAc;AAyE3B;IAAA;IAgMA,CAAC;IA9Lc,6BAAiB,GAA/B,UAAgC,MAA0B,EAAE,SAAoB,EAAE,IAAY,EAAE,WAAmB,EAAE,4BAAoC;QACxJ,OAAO,MAAM,CAAC,YAAY,CAAC,UAAC,EAAE;YAC7B,OAAO,IAAI,WAAW,CAAC,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,4BAA4B,CAAC,CAAC;QACxF,CAAC,CAAC,CAAC;IACJ,CAAC;IAEa,6BAAiB,GAA/B,UAAgC,IAAc,EAAE,MAA0B,EAAE,UAA0B;QACrG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;YACd,MAAM,CAAC,YAAY,CAAC,UAAC,EAAE;gBACtB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;gBAEb,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,IAAI,SAAS,CACnB,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,EAAE,EACP,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,KAAK,EACV,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAC/D,CAAC;gBACH,CAAC;gBAED,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;oBACjB,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;wBACrB,UAAU,GAAG,IAAA,oBAAY,EAAC,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC5D,CAAC;oBACD,OAAO,IAAI,eAAe,CACzB,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,EAAE,EACP,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,WAAW,EAChB,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAC/D,CAAC;gBACH,CAAC;gBAED,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,IAAI,cAAc,CACxB,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,EAAE,EACP,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,KAAK,EAAE,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,EACjG,IAAI,CAAC,KAAK,EAAE,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,EACjG,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAC/D,CAAC;gBACH,CAAC;gBAED,OAAO,IAAI,YAAY,CACtB,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,EAAE,EACP,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,KAAK,EAAE,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,EACjG,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,EAC7F,IAAI,CAAC,mBAAmB,EACxB,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAC/D,CAAC;YACH,CAAC,CAAC,CAAC;QACJ,CAAC;QAED,OAAO,IAAI,CAAC,EAAE,CAAC;IAChB,CAAC;IAEc,4BAAgB,GAA/B,UAAgC,QAAsB,EAAE,MAA0B,EAAE,UAA0B;QAC7G,IAAI,CAAC,GAAkB,EAAE,EACxB,gBAAwB,EACxB,gBAAwB,EACxB,CAAS,EACT,SAAiB,CAAC;QAEnB,IAAI,QAAQ,EAAE,CAAC;YACd,8BAA8B;YAC9B,gBAAgB,GAAG,CAAC,CAAC;YACrB,KAAK,SAAS,IAAI,QAAQ,EAAE,CAAC;gBAC5B,IAAI,SAAS,KAAK,yBAAyB,EAAE,CAAC;oBAC7C,SAAS;gBACV,CAAC;gBACD,gBAAgB,GAAG,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;gBAC3C,IAAI,gBAAgB,GAAG,gBAAgB,EAAE,CAAC;oBACzC,gBAAgB,GAAG,gBAAgB,CAAC;gBACrC,CAAC;YACF,CAAC;YAED,oBAAoB;YACpB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,gBAAgB,EAAE,CAAC,EAAE,EAAE,CAAC;gBACxC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YACb,CAAC;YAED,kBAAkB;YAClB,KAAK,SAAS,IAAI,QAAQ,EAAE,CAAC;gBAC5B,IAAI,SAAS,KAAK,yBAAyB,EAAE,CAAC;oBAC7C,SAAS;gBACV,CAAC;gBACD,gBAAgB,GAAG,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;gBAC3C,IAAI,4BAA4B,GAAG,CAAC,CAAC;gBACrC,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,CAAC;oBAClC,4BAA4B,GAAG,WAAW,CAAC,iBAAiB,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;gBACvG,CAAC;gBACD,CAAC,CAAC,gBAAgB,CAAC,GAAG,WAAW,CAAC,iBAAiB,CAAC,MAAM,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,uBAAuB,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,4BAA4B,CAAC,CAAC;YACnM,CAAC;QACF,CAAC;QAED,OAAO,CAAC,CAAC;IACV,CAAC;IAEc,4BAAgB,GAA/B,UAAgC,QAAoB,EAAE,MAA0B,EAAE,UAA0B;QAC3G,IAAI,CAAC,GAAa,EAAE,EACnB,OAAiB,EACjB,CAAS,EACT,GAAW,EACX,SAAiB,EACjB,eAA4B,EAC5B,IAAU,EACV,QAAiB,CAAC;QAEnB,IAAI,QAAQ,EAAE,CAAC;YACd,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACjD,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACtB,SAAS,GAAG,CAAC,CAAC,CAAC;gBAEf,IAAI,OAAO,CAAC,OAAO,EAAE,CAAC;oBACrB,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;wBACvC,sCAAsC;wBACtC,IAAI,iBAAiB,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC9D,IAAI,iBAAiB,EAAE,CAAC;4BACvB,SAAS,GAAG,WAAW,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;wBAClF,CAAC;6BAAM,CAAC;4BACP,6GAA6G;wBAC9G,CAAC;oBACF,CAAC;yBAAM,IAAI,OAAO,CAAC,OAAO,KAAK,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,OAAO,EAAE,CAAC;wBACvE,6CAA6C;wBAC7C,SAAS,GAAG,WAAW,CAAC,iBAAiB,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;oBAC5F,CAAC;yBAAM,CAAC;wBACP,IAAI,mBAAmB,GAAW,IAAI,EACrC,sBAAsB,GAAW,IAAI,EACrC,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAC3C,IAAI,UAAU,IAAI,CAAC,EAAE,CAAC;4BACrB,mBAAmB,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;4BAC/D,sBAAsB,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;wBACpE,CAAC;6BAAM,CAAC;4BACP,mBAAmB,GAAG,OAAO,CAAC,OAAO,CAAC;wBACvC,CAAC;wBACD,mBAAmB;wBACnB,eAAe,GAAG,MAAM,CAAC,kBAAkB,CAAC,mBAAmB,EAAE,UAAU,CAAC,CAAC;wBAE7E,IAAI,eAAe,EAAE,CAAC;4BACrB,IAAI,sBAAsB,EAAE,CAAC;gCAC5B,IAAI,oBAAoB,GAAG,eAAe,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAC;gCAC9E,IAAI,oBAAoB,EAAE,CAAC;oCAC1B,SAAS,GAAG,WAAW,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,MAAM,EAAE,eAAe,CAAC,UAAU,CAAC,CAAC;gCACrG,CAAC;qCAAM,CAAC;oCACP,6GAA6G;gCAC9G,CAAC;4BACF,CAAC;iCAAM,CAAC;gCACP,SAAS,GAAG,WAAW,CAAC,iBAAiB,CAAC,eAAe,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,EAAE,eAAe,CAAC,UAAU,CAAC,CAAC;4BACjH,CAAC;wBACF,CAAC;6BAAM,CAAC;4BACP,gHAAgH;wBACjH,CAAC;oBAEF,CAAC;gBACF,CAAC;qBAAM,CAAC;oBACP,SAAS,GAAG,WAAW,CAAC,iBAAiB,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;gBACxE,CAAC;gBAED,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE,CAAC;oBACtB,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;oBAEjC,QAAQ,GAAG,KAAK,CAAC;oBAEjB,IAAI,IAAI,YAAY,eAAe,IAAI,IAAI,YAAY,YAAY,IAAI,IAAI,YAAY,cAAc,EAAE,CAAC;wBACvG,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;4BAC3D,QAAQ,GAAG,IAAI,CAAC;wBACjB,CAAC;oBACF,CAAC;oBAED,IAAI,QAAQ,EAAE,CAAC;wBACd,gFAAgF;wBAChF,SAAS;oBACV,CAAC;oBAED,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACnB,CAAC;YACF,CAAC;QACF,CAAC;QAED,OAAO;YACN,QAAQ,EAAE,CAAC;YACX,kBAAkB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;SACnE,CAAC;IACH,CAAC;IACF,kBAAC;AAAD,CAAC,AAhMD,IAgMC;AAhMY,kCAAW"}
\ No newline at end of file
diff --git a/dist/theme.js b/dist/theme.js
index c74aefc41b2aa6fe38d2301bdf045c80dec275c5..56fa54d859b505393abdc3fbcb95c894eb489390 100644
--- a/dist/theme.js
+++ b/dist/theme.js
@@ -3,6 +3,10 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.ThemeTrieElement = exports.ThemeTrieElementRule = exports.Theme = exports.ColorMap = exports.ParsedThemeRule = void 0;
+exports.parseTheme = parseTheme;
+exports.strcmp = strcmp;
+exports.strArrCmp = strArrCmp;
 var ParsedThemeRule = /** @class */ (function () {
     function ParsedThemeRule(scope, parentScopes, index, fontStyle, foreground, background) {
         this.scope = scope;
@@ -66,21 +70,21 @@ function parseTheme(source) {
         else {
             scopes = [''];
         }
-        var fontStyle = -1 /* NotSet */;
+        var fontStyle = -1 /* FontStyle.NotSet */;
         if (typeof entry.settings.fontStyle === 'string') {
-            fontStyle = 0 /* None */;
+            fontStyle = 0 /* FontStyle.None */;
             var segments = entry.settings.fontStyle.split(' ');
             for (var j = 0, lenJ = segments.length; j < lenJ; j++) {
                 var segment = segments[j];
                 switch (segment) {
                     case 'italic':
-                        fontStyle = fontStyle | 1 /* Italic */;
+                        fontStyle = fontStyle | 1 /* FontStyle.Italic */;
                         break;
                     case 'bold':
-                        fontStyle = fontStyle | 2 /* Bold */;
+                        fontStyle = fontStyle | 2 /* FontStyle.Bold */;
                         break;
                     case 'underline':
-                        fontStyle = fontStyle | 4 /* Underline */;
+                        fontStyle = fontStyle | 4 /* FontStyle.Underline */;
                         break;
                 }
             }
@@ -107,7 +111,6 @@ function parseTheme(source) {
     }
     return result;
 }
-exports.parseTheme = parseTheme;
 /**
  * Resolve rules (i.e. inheritance).
  */
@@ -125,12 +128,12 @@ function resolveParsedThemeRules(parsedThemeRules) {
         return a.index - b.index;
     });
     // Determine defaults
-    var defaultFontStyle = 0 /* None */;
+    var defaultFontStyle = 0 /* FontStyle.None */;
     var defaultForeground = '#000000';
     var defaultBackground = '#ffffff';
     while (parsedThemeRules.length >= 1 && parsedThemeRules[0].scope === '') {
         var incomingDefaults = parsedThemeRules.shift();
-        if (incomingDefaults.fontStyle !== -1 /* NotSet */) {
+        if (incomingDefaults.fontStyle !== -1 /* FontStyle.NotSet */) {
             defaultFontStyle = incomingDefaults.fontStyle;
         }
         if (incomingDefaults.foreground !== null) {
@@ -142,7 +145,7 @@ function resolveParsedThemeRules(parsedThemeRules) {
     }
     var colorMap = new ColorMap();
     var defaults = new ThemeTrieElementRule(0, null, defaultFontStyle, colorMap.getId(defaultForeground), colorMap.getId(defaultBackground));
-    var root = new ThemeTrieElement(new ThemeTrieElementRule(0, null, -1 /* NotSet */, 0, 0), []);
+    var root = new ThemeTrieElement(new ThemeTrieElementRule(0, null, -1 /* FontStyle.NotSet */, 0, 0), []);
     for (var i = 0, len = parsedThemeRules.length; i < len; i++) {
         var rule = parsedThemeRules[i];
         root.insert(0, rule.scope, rule.parentScopes, rule.fontStyle, colorMap.getId(rule.foreground), colorMap.getId(rule.background));
@@ -212,7 +215,6 @@ function strcmp(a, b) {
     }
     return 0;
 }
-exports.strcmp = strcmp;
 function strArrCmp(a, b) {
     if (a === null && b === null) {
         return 0;
@@ -236,7 +238,6 @@ function strArrCmp(a, b) {
     }
     return len1 - len2;
 }
-exports.strArrCmp = strArrCmp;
 var ThemeTrieElementRule = /** @class */ (function () {
     function ThemeTrieElementRule(scopeDepth, parentScopes, fontStyle, foreground, background) {
         this.scopeDepth = scopeDepth;
@@ -263,7 +264,7 @@ var ThemeTrieElementRule = /** @class */ (function () {
             this.scopeDepth = scopeDepth;
         }
         // console.log('TODO -> my depth: ' + this.scopeDepth + ', overwriting depth: ' + scopeDepth);
-        if (fontStyle !== -1 /* NotSet */) {
+        if (fontStyle !== -1 /* FontStyle.NotSet */) {
             this.fontStyle = fontStyle;
         }
         if (foreground !== 0) {
@@ -373,7 +374,7 @@ var ThemeTrieElement = /** @class */ (function () {
         }
         // Must add a new rule
         // Inherit from main rule
-        if (fontStyle === -1 /* NotSet */) {
+        if (fontStyle === -1 /* FontStyle.NotSet */) {
             fontStyle = this._mainRule.fontStyle;
         }
         if (foreground === 0) {
diff --git a/dist/theme.js.map b/dist/theme.js.map
index 04376fd9db7af6a5a551f2ed1a19c33da4cb23ba..bb4f906b86648403f6d5aaecc5d3c8adfb982d86 100644
--- a/dist/theme.js.map
+++ b/dist/theme.js.map
@@ -1 +1 @@
-{"version":3,"file":"theme.js","sourceRoot":"","sources":["../src/theme.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"theme.js","sourceRoot":"","sources":["../src/theme.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/typings/rule.d.ts b/dist/typings/rule.d.ts
index e0b47185877cbfca18ef113d707c3b87dd2d452b..5a56376998e5f0f9ab0eb76e934659118549389b 100644
--- a/dist/typings/rule.d.ts
+++ b/dist/typings/rule.d.ts
@@ -22,7 +22,7 @@ export declare abstract class Rule {
     private readonly _contentNameIsCapturing;
     private readonly _contentName;
     constructor($location: ILocation, id: number, name: string, contentName: string);
-    readonly debugName: string;
+    get debugName(): string;
     getName(lineText: string, captureIndices: IOnigCaptureIndex[]): string;
     getContentName(lineText: string, captureIndices: IOnigCaptureIndex[]): string;
     collectPatternsRecursive(grammar: IRuleRegistry, out: RegExpSourceList, isFirst: boolean): void;
@@ -71,7 +71,7 @@ export declare class MatchRule extends Rule {
     readonly captures: CaptureRule[];
     private _cachedCompiledPatterns;
     constructor($location: ILocation, id: number, name: string, match: string, captures: CaptureRule[]);
-    readonly debugMatchRegExp: string;
+    get debugMatchRegExp(): string;
     collectPatternsRecursive(grammar: IRuleRegistry, out: RegExpSourceList, isFirst: boolean): void;
     compile(grammar: IRuleRegistry, endRegexSource: string, allowA: boolean, allowG: boolean): ICompiledRule;
 }
@@ -94,8 +94,8 @@ export declare class BeginEndRule extends Rule {
     readonly patterns: number[];
     private _cachedCompiledPatterns;
     constructor($location: ILocation, id: number, name: string, contentName: string, begin: string, beginCaptures: CaptureRule[], end: string, endCaptures: CaptureRule[], applyEndPatternLast: boolean, patterns: ICompilePatternsResult);
-    readonly debugBeginRegExp: string;
-    readonly debugEndRegExp: string;
+    get debugBeginRegExp(): string;
+    get debugEndRegExp(): string;
     getEndWithResolvedBackReferences(lineText: string, captureIndices: IOnigCaptureIndex[]): string;
     collectPatternsRecursive(grammar: IRuleRegistry, out: RegExpSourceList, isFirst: boolean): void;
     compile(grammar: IRuleRegistry, endRegexSource: string, allowA: boolean, allowG: boolean): ICompiledRule;
diff --git a/dist/typings/types.d.ts b/dist/typings/types.d.ts
index 751fed05eaac4f72ffb80a24ba282da4809c7ad2..511a6c0a5969c537b84abd0c06bf94dd734ecce7 100644
--- a/dist/typings/types.d.ts
+++ b/dist/typings/types.d.ts
@@ -27,7 +27,7 @@ export interface IRawRepositoryMap {
     $self: IRawRule;
     $base: IRawRule;
 }
-export declare type IRawRepository = IRawRepositoryMap & ILocatable;
+export type IRawRepository = IRawRepositoryMap & ILocatable;
 export interface IRawRule extends ILocatable {
     id?: number;
     readonly include?: string;
@@ -48,4 +48,4 @@ export interface IRawRule extends ILocatable {
 export interface IRawCapturesMap {
     [captureId: string]: IRawRule;
 }
-export declare type IRawCaptures = IRawCapturesMap & ILocatable;
+export type IRawCaptures = IRawCapturesMap & ILocatable;
diff --git a/dist/typings/utils.d.ts b/dist/typings/utils.d.ts
index 209ea60a5bafb0ee8e840225616878502b98e163..48415e1274a121e20c92e71acf435d6ed7c49ea9 100644
--- a/dist/typings/utils.d.ts
+++ b/dist/typings/utils.d.ts
@@ -1,6 +1,7 @@
 import { IOnigCaptureIndex } from 'onigasm';
 export declare function clone<T>(something: T): T;
 export declare function mergeObjects(target: any, ...sources: any[]): any;
+export declare function basename(path: string): string;
 export declare class RegexSource {
     static hasCaptures(regexSource: string): boolean;
     static replaceCaptures(regexSource: string, captureSource: string, captureIndices: IOnigCaptureIndex[]): string;
diff --git a/dist/utils.js b/dist/utils.js
index 0b2ae26644182e73d64ba58062e0c65ee2f35ea1..cf139e6724b22ccf7aeb2501a02f4ce53a238273 100644
--- a/dist/utils.js
+++ b/dist/utils.js
@@ -3,10 +3,13 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 Object.defineProperty(exports, "__esModule", { value: true });
+exports.RegexSource = void 0;
+exports.clone = clone;
+exports.mergeObjects = mergeObjects;
+exports.basename = basename;
 function clone(something) {
     return doClone(something);
 }
-exports.clone = clone;
 function doClone(something) {
     if (Array.isArray(something)) {
         return cloneArray(something);
@@ -42,7 +45,18 @@ function mergeObjects(target) {
     });
     return target;
 }
-exports.mergeObjects = mergeObjects;
+function basename(path) {
+    var idx = ~path.lastIndexOf('/') || ~path.lastIndexOf('\\');
+    if (idx === 0) {
+        return path;
+    }
+    else if (~idx === path.length - 1) {
+        return basename(path.substring(0, path.length - 1));
+    }
+    else {
+        return path.substr(~idx + 1);
+    }
+}
 var CAPTURING_REGEX_SOURCE = /\$(\d+)|\${(\d+):\/(downcase|upcase)}/;
 var RegexSource = /** @class */ (function () {
     function RegexSource() {
diff --git a/dist/utils.js.map b/dist/utils.js.map
index ebeefb15a0a42850ddd97daaeb137e9f6f25ae73..0633444e560089ef64b6548fe5613163aef05a53 100644
--- a/dist/utils.js.map
+++ b/dist/utils.js.map
@@ -1 +1 @@
-{"version":3,"file":"utils.js","sourceRoot":"","sources":["../src/utils.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;AAI5D,eAAyB,SAAY;IACpC,OAAO,OAAO,CAAC,SAAS,CAAC,CAAC;AAC3B,CAAC;AAFD,sBAEC;AAED,iBAAiB,SAAc;IAC9B,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;QAC7B,OAAO,UAAU,CAAC,SAAS,CAAC,CAAC;KAC7B;IACD,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;QAClC,OAAO,QAAQ,CAAC,SAAS,CAAC,CAAC;KAC3B;IACD,OAAO,SAAS,CAAC;AAClB,CAAC;AAED,oBAAoB,GAAU;IAC7B,IAAI,CAAC,GAAU,EAAE,CAAC;IAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC/C,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACvB;IACD,OAAO,CAAC,CAAC;AACV,CAAC;AAED,kBAAkB,GAAQ;IACzB,IAAI,CAAC,GAAQ,EAAE,CAAC;IAChB,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;QACpB,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KAC3B;IACD,OAAO,CAAC,CAAC;AACV,CAAC;AAED,sBAA6B,MAAW;IAAE,iBAAiB;SAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;QAAjB,gCAAiB;;IAC1D,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM;QACrB,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;YACvB,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;SAC1B;IACF,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AACf,CAAC;AAPD,oCAOC;AAED,IAAI,sBAAsB,GAAG,uCAAuC,CAAC;AAErE;IAAA;IA4BA,CAAC;IA1Bc,uBAAW,GAAzB,UAA0B,WAAmB;QAC5C,OAAO,sBAAsB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjD,CAAC;IAEa,2BAAe,GAA7B,UAA8B,WAAmB,EAAE,aAAqB,EAAE,cAAmC;QAC5G,OAAO,WAAW,CAAC,OAAO,CAAC,sBAAsB,EAAE,UAAC,KAAa,EAAE,KAAa,EAAE,YAAoB,EAAE,OAAe;YACtH,IAAI,OAAO,GAAG,cAAc,CAAC,QAAQ,CAAC,KAAK,IAAI,YAAY,EAAE,EAAE,CAAC,CAAC,CAAC;YAClE,IAAI,OAAO,EAAE;gBACZ,IAAI,MAAM,GAAG,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;gBACjE,2DAA2D;gBAC3D,OAAO,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;oBACzB,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;iBAC7B;gBACD,QAAQ,OAAO,EAAE;oBAChB,KAAK,UAAU;wBACd,OAAO,MAAM,CAAC,WAAW,EAAE,CAAC;oBAC7B,KAAK,QAAQ;wBACZ,OAAO,MAAM,CAAC,WAAW,EAAE,CAAC;oBAC7B;wBACC,OAAO,MAAM,CAAC;iBACf;aACD;iBAAM;gBACN,OAAO,KAAK,CAAC;aACb;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IACF,kBAAC;AAAD,CAAC,AA5BD,IA4BC;AA5BY,kCAAW"}
\ No newline at end of file
+{"version":3,"file":"utils.js","sourceRoot":"","sources":["../src/utils.ts"],"names":[],"mappings":";AAAA;;4DAE4D;;;AAI5D,sBAEC;AA4BD,oCAOC;AAED,4BASC;AAhDD,SAAgB,KAAK,CAAI,SAAY;IACpC,OAAO,OAAO,CAAC,SAAS,CAAC,CAAC;AAC3B,CAAC;AAED,SAAS,OAAO,CAAC,SAAc;IAC9B,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;QAC9B,OAAO,UAAU,CAAC,SAAS,CAAC,CAAC;IAC9B,CAAC;IACD,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE,CAAC;QACnC,OAAO,QAAQ,CAAC,SAAS,CAAC,CAAC;IAC5B,CAAC;IACD,OAAO,SAAS,CAAC;AAClB,CAAC;AAED,SAAS,UAAU,CAAC,GAAU;IAC7B,IAAI,CAAC,GAAU,EAAE,CAAC;IAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;QAChD,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IACD,OAAO,CAAC,CAAC;AACV,CAAC;AAED,SAAS,QAAQ,CAAC,GAAQ;IACzB,IAAI,CAAC,GAAQ,EAAE,CAAC;IAChB,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;QACrB,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC5B,CAAC;IACD,OAAO,CAAC,CAAC;AACV,CAAC;AAED,SAAgB,YAAY,CAAC,MAAW;IAAE,iBAAiB;SAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;QAAjB,gCAAiB;;IAC1D,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM;QACrB,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,CAAC;YACxB,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;QAC3B,CAAC;IACF,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AACf,CAAC;AAED,SAAgB,QAAQ,CAAC,IAAY;IACpC,IAAM,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC9D,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC;QACf,OAAO,IAAI,CAAC;IACb,CAAC;SAAM,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACrC,OAAO,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;SAAM,CAAC;QACP,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IAC9B,CAAC;AACF,CAAC;AAED,IAAI,sBAAsB,GAAG,uCAAuC,CAAC;AAErE;IAAA;IA4BA,CAAC;IA1Bc,uBAAW,GAAzB,UAA0B,WAAmB;QAC5C,OAAO,sBAAsB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjD,CAAC;IAEa,2BAAe,GAA7B,UAA8B,WAAmB,EAAE,aAAqB,EAAE,cAAmC;QAC5G,OAAO,WAAW,CAAC,OAAO,CAAC,sBAAsB,EAAE,UAAC,KAAa,EAAE,KAAa,EAAE,YAAoB,EAAE,OAAe;YACtH,IAAI,OAAO,GAAG,cAAc,CAAC,QAAQ,CAAC,KAAK,IAAI,YAAY,EAAE,EAAE,CAAC,CAAC,CAAC;YAClE,IAAI,OAAO,EAAE,CAAC;gBACb,IAAI,MAAM,GAAG,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;gBACjE,2DAA2D;gBAC3D,OAAO,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;oBAC1B,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC9B,CAAC;gBACD,QAAQ,OAAO,EAAE,CAAC;oBACjB,KAAK,UAAU;wBACd,OAAO,MAAM,CAAC,WAAW,EAAE,CAAC;oBAC7B,KAAK,QAAQ;wBACZ,OAAO,MAAM,CAAC,WAAW,EAAE,CAAC;oBAC7B;wBACC,OAAO,MAAM,CAAC;gBAChB,CAAC;YACF,CAAC;iBAAM,CAAC;gBACP,OAAO,KAAK,CAAC;YACd,CAAC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IACF,kBAAC;AAAD,CAAC,AA5BD,IA4BC;AA5BY,kCAAW"}
\ No newline at end of file
diff --git a/src/rule.ts b/src/rule.ts
index 94665ced7b28f68121b4846be5e4b620caea3601..d0d961cde3390f50618223bc25064ff072ddca83 100644
--- a/src/rule.ts
+++ b/src/rule.ts
@@ -2,8 +2,7 @@
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
 
-import * as path from 'path';
-import { RegexSource, mergeObjects } from './utils';
+import { RegexSource, basename, mergeObjects } from './utils';
 import { ILocation, IRawGrammar, IRawRepository, IRawRule, IRawCaptures } from './types';
 import { OnigString, OnigScanner, IOnigCaptureIndex } from 'onigasm';
 
@@ -49,7 +48,7 @@ export abstract class Rule {
 	}
 
 	public get debugName(): string {
-		return `${(<any>this.constructor).name}#${this.id} @ ${path.basename(this.$location.filename)}:${this.$location.line}`;
+		return `${(<any>this.constructor).name}#${this.id} @ ${basename(this.$location.filename)}:${this.$location.line}`;
 	}
 
 	public getName(lineText: string, captureIndices: IOnigCaptureIndex[]): string {
diff --git a/src/utils.ts b/src/utils.ts
index 8f1a7ce545b8d6aeaa9dcb5ccc9b6e4061fdf963..aed71d1220fe3027046db76dd38499f8b7e6a091 100644
--- a/src/utils.ts
+++ b/src/utils.ts
@@ -43,6 +43,17 @@ export function mergeObjects(target: any, ...sources: any[]): any {
 	return target;
 }
 
+export function basename(path: string): string {
+	const idx = ~path.lastIndexOf('/') || ~path.lastIndexOf('\\');
+	if (idx === 0) {
+		return path;
+	} else if (~idx === path.length - 1) {
+		return basename(path.substring(0, path.length - 1));
+	} else {
+		return path.substr(~idx + 1);
+	}
+}
+
 let CAPTURING_REGEX_SOURCE = /\$(\d+)|\${(\d+):\/(downcase|upcase)}/;
 
 export class RegexSource {
